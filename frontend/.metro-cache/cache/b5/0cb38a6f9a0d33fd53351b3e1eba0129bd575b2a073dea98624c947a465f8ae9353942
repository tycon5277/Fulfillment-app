{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":69,"index":96}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"genieAPI\", {\n    enumerable: true,\n    get: function () {\n      return genieAPI;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  // External Order Lifecycle Backend\n  var ORDER_API_BASE = 'https://order-lifecycle-7.preview.emergentagent.com';\n  var orderApi = axios.default.create({\n    baseURL: `${ORDER_API_BASE}/api`,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Add auth token to requests\n  orderApi.interceptors.request.use(/*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator.default)(function* (config) {\n      var token = yield AsyncStorage.default.getItem('session_token');\n      if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n      return config;\n    });\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n\n  // =============================================================================\n  // GENIE API - Delivery Management\n  // =============================================================================\n\n  var genieAPI = {\n    // Get available orders near the genie's location\n    getAvailableOrders: (lat, lng) => orderApi.get('/genie/orders/available', {\n      params: {\n        lat,\n        lng\n      }\n    }),\n    // Accept an order (first to accept wins)\n    acceptOrder: function (orderId) {\n      var pickupMins = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n      var deliveryMins = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 20;\n      return orderApi.post(`/genie/orders/${orderId}/accept`, null, {\n        params: {\n          estimated_pickup_mins: pickupMins,\n          estimated_delivery_mins: deliveryMins\n        }\n      });\n    },\n    // Mark order as picked up from vendor\n    pickupOrder: orderId => orderApi.post(`/genie/orders/${orderId}/pickup`),\n    // Mark order as delivered to customer\n    deliverOrder: orderId => orderApi.post(`/genie/orders/${orderId}/deliver`),\n    // Get current active order (if any)\n    getCurrentOrder: () => orderApi.get('/genie/orders/current'),\n    // Update genie's current location\n    updateLocation: (lat, lng) => orderApi.post('/genie/location', {\n      lat,\n      lng\n    })\n  };\n  var _default = orderApi;\n});","lineCount":90,"map":[[12,2,96,0,"Object"],[12,8,96,0],[12,9,96,0,"defineProperty"],[12,23,96,0],[12,24,96,0,"exports"],[12,31,96,0],[13,4,96,0,"enumerable"],[13,14,96,0],[14,4,96,0,"get"],[14,7,96,0],[14,18,96,0,"get"],[14,19,96,0],[15,6,96,0],[15,13,96,0,"_default"],[15,21,96,0],[16,4,96,0],[17,2,96,0],[18,2,63,0,"Object"],[18,8,63,0],[18,9,63,0,"defineProperty"],[18,23,63,0],[18,24,63,0,"exports"],[18,31,63,0],[19,4,63,0,"enumerable"],[19,14,63,0],[20,4,63,0,"get"],[20,7,63,0],[20,18,63,0,"get"],[20,19,63,0],[21,6,63,0],[21,13,63,0,"genieAPI"],[21,21,63,0],[22,4,63,0],[23,2,63,0],[24,2,94,2],[24,6,94,2,"_babelRuntimeHelpersAsyncToGenerator"],[24,42,94,2],[24,45,94,2,"require"],[24,52,94,2],[24,53,94,2,"_dependencyMap"],[24,67,94,2],[25,2,94,2],[25,6,94,2,"_asyncToGenerator"],[25,23,94,2],[25,26,94,2,"_interopDefault"],[25,41,94,2],[25,42,94,2,"_babelRuntimeHelpersAsyncToGenerator"],[25,78,94,2],[26,2,1,0],[26,6,1,0,"_axios"],[26,12,1,0],[26,15,1,0,"require"],[26,22,1,0],[26,23,1,0,"_dependencyMap"],[26,37,1,0],[27,2,1,0],[27,6,1,0,"axios"],[27,11,1,0],[27,14,1,0,"_interopDefault"],[27,29,1,0],[27,30,1,0,"_axios"],[27,36,1,0],[28,2,2,0],[28,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[28,42,2,0],[28,45,2,0,"require"],[28,52,2,0],[28,53,2,0,"_dependencyMap"],[28,67,2,0],[29,2,2,0],[29,6,2,0,"AsyncStorage"],[29,18,2,0],[29,21,2,0,"_interopDefault"],[29,36,2,0],[29,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,73,2,0],[30,2,4,0],[31,2,5,0],[31,6,5,6,"ORDER_API_BASE"],[31,20,5,20],[31,23,5,23],[31,76,5,76],[32,2,7,0],[32,6,7,6,"orderApi"],[32,14,7,14],[32,17,7,17,"axios"],[32,22,7,22],[32,23,7,22,"default"],[32,30,7,22],[32,31,7,23,"create"],[32,37,7,29],[32,38,7,30],[33,4,8,2,"baseURL"],[33,11,8,9],[33,13,8,11],[33,16,8,14,"ORDER_API_BASE"],[33,30,8,28],[33,36,8,34],[34,4,9,2,"timeout"],[34,11,9,9],[34,13,9,11],[34,18,9,16],[35,4,10,2,"headers"],[35,11,10,9],[35,13,10,11],[36,6,11,4],[36,20,11,18],[36,22,11,20],[37,4,12,2],[38,2,13,0],[38,3,13,1],[38,4,13,2],[40,2,15,0],[41,2,16,0,"orderApi"],[41,10,16,8],[41,11,16,9,"interceptors"],[41,23,16,21],[41,24,16,22,"request"],[41,31,16,29],[41,32,16,30,"use"],[41,35,16,33],[42,4,16,33],[42,8,16,33,"_ref"],[42,12,16,33],[42,19,16,33,"_asyncToGenerator"],[42,36,16,33],[42,37,16,33,"default"],[42,44,16,33],[42,46,16,34],[42,57,16,41,"config"],[42,63,16,47],[42,65,16,52],[43,6,17,2],[43,10,17,8,"token"],[43,15,17,13],[43,24,17,22,"AsyncStorage"],[43,36,17,34],[43,37,17,34,"default"],[43,44,17,34],[43,45,17,35,"getItem"],[43,52,17,42],[43,53,17,43],[43,68,17,58],[43,69,17,59],[44,6,18,2],[44,10,18,6,"token"],[44,15,18,11],[44,17,18,13],[45,8,19,4,"config"],[45,14,19,10],[45,15,19,11,"headers"],[45,22,19,18],[45,23,19,19,"Authorization"],[45,36,19,32],[45,39,19,35],[45,49,19,45,"token"],[45,54,19,50],[45,56,19,52],[46,6,20,2],[47,6,21,2],[47,13,21,9,"config"],[47,19,21,15],[48,4,22,0],[48,5,22,1],[49,4,22,1],[49,21,22,1,"_x"],[49,23,22,1],[50,6,22,1],[50,13,22,1,"_ref"],[50,17,22,1],[50,18,22,1,"apply"],[50,23,22,1],[50,30,22,1,"arguments"],[50,39,22,1],[51,4,22,1],[52,2,22,1],[52,6,22,2],[54,2,24,0],[55,2,25,0],[56,2,26,0],[58,2,63,7],[58,6,63,13,"genieAPI"],[58,14,63,21],[58,17,63,24],[59,4,64,2],[60,4,65,2,"getAvailableOrders"],[60,22,65,20],[60,24,65,22,"getAvailableOrders"],[60,25,65,23,"lat"],[60,28,65,34],[60,30,65,36,"lng"],[60,33,65,47],[60,38,66,4,"orderApi"],[60,46,66,12],[60,47,66,13,"get"],[60,50,66,16],[60,51,66,72],[60,76,66,97],[60,78,66,99],[61,6,67,6,"params"],[61,12,67,12],[61,14,67,14],[62,8,67,16,"lat"],[62,11,67,19],[63,8,67,21,"lng"],[64,6,67,25],[65,4,68,4],[65,5,68,5],[65,6,68,6],[66,4,70,2],[67,4,71,2,"acceptOrder"],[67,15,71,13],[67,17,71,15],[67,26,71,15,"acceptOrder"],[67,27,71,16,"orderId"],[67,34,71,31],[68,6,71,31],[68,10,71,33,"pickupMins"],[68,20,71,51],[68,23,71,51,"arguments"],[68,32,71,51],[68,33,71,51,"length"],[68,39,71,51],[68,47,71,51,"arguments"],[68,56,71,51],[68,64,71,51,"undefined"],[68,73,71,51],[68,76,71,51,"arguments"],[68,85,71,51],[68,91,71,54],[68,93,71,56],[69,6,71,56],[69,10,71,58,"deliveryMins"],[69,22,71,78],[69,25,71,78,"arguments"],[69,34,71,78],[69,35,71,78,"length"],[69,41,71,78],[69,49,71,78,"arguments"],[69,58,71,78],[69,66,71,78,"undefined"],[69,75,71,78],[69,78,71,78,"arguments"],[69,87,71,78],[69,93,71,81],[69,95,71,83],[70,6,71,83],[70,13,72,4,"orderApi"],[70,21,72,12],[70,22,72,13,"post"],[70,26,72,17],[70,27,72,18],[70,44,72,35,"orderId"],[70,51,72,42],[70,60,72,51],[70,62,72,53],[70,66,72,57],[70,68,72,59],[71,8,73,6,"params"],[71,14,73,12],[71,16,73,14],[72,10,74,8,"estimated_pickup_mins"],[72,31,74,29],[72,33,74,31,"pickupMins"],[72,43,74,41],[73,10,75,8,"estimated_delivery_mins"],[73,33,75,31],[73,35,75,33,"deliveryMins"],[74,8,76,6],[75,6,77,4],[75,7,77,5],[75,8,77,6],[76,4,77,6],[77,4,79,2],[78,4,80,2,"pickupOrder"],[78,15,80,13],[78,17,80,16,"orderId"],[78,24,80,31],[78,28,81,4,"orderApi"],[78,36,81,12],[78,37,81,13,"post"],[78,41,81,17],[78,42,81,18],[78,59,81,35,"orderId"],[78,66,81,42],[78,75,81,51],[78,76,81,52],[79,4,83,2],[80,4,84,2,"deliverOrder"],[80,16,84,14],[80,18,84,17,"orderId"],[80,25,84,32],[80,29,85,4,"orderApi"],[80,37,85,12],[80,38,85,13,"post"],[80,42,85,17],[80,43,85,35],[80,60,85,52,"orderId"],[80,67,85,59],[80,77,85,69],[80,78,85,70],[81,4,87,2],[82,4,88,2,"getCurrentOrder"],[82,19,88,17],[82,21,88,19,"getCurrentOrder"],[82,22,88,19],[82,27,89,4,"orderApi"],[82,35,89,12],[82,36,89,13,"get"],[82,39,89,16],[82,40,89,39],[82,63,89,62],[82,64,89,63],[83,4,91,2],[84,4,92,2,"updateLocation"],[84,18,92,16],[84,20,92,18,"updateLocation"],[84,21,92,19,"lat"],[84,24,92,30],[84,26,92,32,"lng"],[84,29,92,43],[84,34,93,4,"orderApi"],[84,42,93,12],[84,43,93,13,"post"],[84,47,93,17],[84,48,93,18],[84,65,93,35],[84,67,93,37],[85,6,93,39,"lat"],[85,9,93,42],[86,6,93,44,"lng"],[87,4,93,48],[87,5,93,49],[88,2,94,0],[88,3,94,1],[89,2,96,0],[89,6,96,0,"_default"],[89,14,96,0],[89,17,96,15,"orderApi"],[89,25,96,23],[90,0,96,24],[90,3]],"functionMap":{"names":["<global>","interceptors.request.use$argument_0","genieAPI.getAvailableOrders","genieAPI.acceptOrder","genieAPI.pickupOrder","genieAPI.deliverOrder","genieAPI.getCurrentOrder","genieAPI.updateLocation"],"mappings":"AAA;kCCe;CDM;sBE2C;MFG;eGG;MHM;eIG;oDJC;gBKG;sELC;mBMG;+DNC;kBOG;kDPC"},"hasCjsExports":false},"type":"js/module"}]}