{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":55,"index":55}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-location","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":56},"end":{"line":2,"column":42,"index":98}}],"key":"GNP7AGCKsBRUhlnTZ4lIPpbkT9E=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/AppState","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"JfCM6WRyn2619+pzBJhEHd1+SSw=","exportNames":["*"],"imports":1}},{"name":"../store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":166},"end":{"line":4,"column":54,"index":220}}],"key":"dKKzYqIQKYpDjB3XCyXC/s+wXSc=","exportNames":["*"],"imports":1}},{"name":"../api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":221},"end":{"line":5,"column":30,"index":251}}],"key":"41PldGLahI9T80Mn09nNHYqZZYw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useLocationTracking = useLocationTracking;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _expoLocation = require(_dependencyMap[1], \"expo-location\");\n  var Location = _interopNamespace(_expoLocation);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _reactNativeWebDistExportsAppState = require(_dependencyMap[3], \"react-native-web/dist/exports/AppState\");\n  var AppState = _interopDefault(_reactNativeWebDistExportsAppState);\n  var _store = require(_dependencyMap[4], \"../store\");\n  var _api = require(_dependencyMap[5], \"../api\");\n  var api = _interopNamespace(_api);\n  // Constants for tracking intervals\n  const ONLINE_TRACKING_INTERVAL = 5000; // 5 seconds when online (continuous)\n  const OFFLINE_TRACKING_INTERVAL = 5 * 60 * 1000; // 5 minutes when offline\n\n  // Location accuracy settings\n  const LOCATION_OPTIONS = {\n    accuracy: Location.Accuracy.High,\n    distanceInterval: 10,\n    // Update if moved 10 meters\n    timeInterval: ONLINE_TRACKING_INTERVAL\n  };\n  function useLocationTracking() {\n    _s();\n    const {\n      user,\n      isOnline,\n      sessionToken,\n      currentLocation,\n      locationPermissionGranted,\n      isTrackingLocation,\n      setCurrentLocation,\n      setLocationPermissionGranted,\n      setIsTrackingLocation\n    } = (0, _store.useAuthStore)();\n    const locationSubscription = (0, _react.useRef)(null);\n    const offlineIntervalRef = (0, _react.useRef)(null);\n    const appStateRef = (0, _react.useRef)(AppState.default.currentState);\n\n    // Request location permissions\n    const requestPermissions = (0, _react.useCallback)(async () => {\n      try {\n        console.log('ðŸ“ Requesting location permissions...');\n        const {\n          status: foregroundStatus\n        } = await Location.requestForegroundPermissionsAsync();\n        if (foregroundStatus !== 'granted') {\n          console.log('âŒ Foreground location permission denied');\n          setLocationPermissionGranted(false);\n          return false;\n        }\n\n        // Request background permissions for continuous tracking (optional, may not work on all devices)\n        if (Platform.default.OS !== 'web') {\n          const {\n            status: backgroundStatus\n          } = await Location.requestBackgroundPermissionsAsync();\n          console.log('ðŸ“ Background permission status:', backgroundStatus);\n        }\n        console.log('âœ… Location permissions granted');\n        setLocationPermissionGranted(true);\n        return true;\n      } catch (error) {\n        console.error('Error requesting location permissions:', error);\n        setLocationPermissionGranted(false);\n        return false;\n      }\n    }, [setLocationPermissionGranted]);\n\n    // Get current location once\n    const getCurrentLocation = (0, _react.useCallback)(async () => {\n      try {\n        if (!locationPermissionGranted) {\n          const granted = await requestPermissions();\n          if (!granted) return null;\n        }\n        console.log('ðŸ“ Getting current location...');\n        const location = await Location.getCurrentPositionAsync({\n          accuracy: Location.Accuracy.High\n        });\n        const locationData = {\n          latitude: location.coords.latitude,\n          longitude: location.coords.longitude,\n          accuracy: location.coords.accuracy || undefined,\n          altitude: location.coords.altitude || undefined,\n          heading: location.coords.heading || undefined,\n          speed: location.coords.speed || undefined,\n          timestamp: location.timestamp\n        };\n        console.log('ðŸ“ Current location:', locationData.latitude, locationData.longitude);\n        setCurrentLocation(locationData);\n        return locationData;\n      } catch (error) {\n        console.error('Error getting current location:', error);\n        return null;\n      }\n    }, [locationPermissionGranted, requestPermissions, setCurrentLocation]);\n\n    // Send location to backend\n    const syncLocationToBackend = (0, _react.useCallback)(async location => {\n      if (!sessionToken || !user?.user_id) return;\n      try {\n        console.log('ðŸ“¡ Syncing location to backend...');\n        await api.updateLocation({\n          latitude: location.latitude,\n          longitude: location.longitude,\n          accuracy: location.accuracy,\n          heading: location.heading,\n          speed: location.speed,\n          timestamp: location.timestamp,\n          is_online: isOnline\n        });\n        console.log('âœ… Location synced to backend');\n      } catch (error) {\n        console.error('Error syncing location to backend:', error);\n      }\n    }, [sessionToken, user?.user_id, isOnline]);\n\n    // Handle location update\n    const handleLocationUpdate = (0, _react.useCallback)(location => {\n      const locationData = {\n        latitude: location.coords.latitude,\n        longitude: location.coords.longitude,\n        accuracy: location.coords.accuracy || undefined,\n        altitude: location.coords.altitude || undefined,\n        heading: location.coords.heading || undefined,\n        speed: location.coords.speed || undefined,\n        timestamp: location.timestamp\n      };\n      console.log('ðŸ“ Location update:', locationData.latitude, locationData.longitude, isOnline ? '(ONLINE)' : '(OFFLINE)');\n      setCurrentLocation(locationData);\n      syncLocationToBackend(locationData);\n    }, [setCurrentLocation, syncLocationToBackend, isOnline]);\n\n    // Start continuous location tracking (when ONLINE)\n    const startContinuousTracking = (0, _react.useCallback)(async () => {\n      try {\n        if (!locationPermissionGranted) {\n          const granted = await requestPermissions();\n          if (!granted) return;\n        }\n\n        // Stop any existing tracking\n        if (locationSubscription.current) {\n          locationSubscription.current.remove();\n        }\n        console.log('ðŸŸ¢ Starting continuous location tracking (ONLINE mode)');\n        setIsTrackingLocation(true);\n\n        // Get initial location\n        await getCurrentLocation();\n\n        // Start watching location\n        locationSubscription.current = await Location.watchPositionAsync(LOCATION_OPTIONS, handleLocationUpdate);\n      } catch (error) {\n        console.error('Error starting continuous tracking:', error);\n        setIsTrackingLocation(false);\n      }\n    }, [locationPermissionGranted, requestPermissions, getCurrentLocation, handleLocationUpdate, setIsTrackingLocation]);\n\n    // Start periodic location tracking (when OFFLINE)\n    const startPeriodicTracking = (0, _react.useCallback)(async () => {\n      try {\n        if (!locationPermissionGranted) {\n          const granted = await requestPermissions();\n          if (!granted) return;\n        }\n\n        // Stop continuous tracking if active\n        if (locationSubscription.current) {\n          locationSubscription.current.remove();\n          locationSubscription.current = null;\n        }\n\n        // Clear any existing interval\n        if (offlineIntervalRef.current) {\n          clearInterval(offlineIntervalRef.current);\n        }\n        console.log('ðŸŸ¡ Starting periodic location tracking (OFFLINE mode - every 5 min)');\n        setIsTrackingLocation(true);\n\n        // Get initial location\n        const location = await getCurrentLocation();\n        if (location) {\n          syncLocationToBackend(location);\n        }\n\n        // Set up periodic updates\n        offlineIntervalRef.current = setInterval(async () => {\n          console.log('â° Periodic location update (5 min interval)');\n          const loc = await getCurrentLocation();\n          if (loc) {\n            syncLocationToBackend(loc);\n          }\n        }, OFFLINE_TRACKING_INTERVAL);\n      } catch (error) {\n        console.error('Error starting periodic tracking:', error);\n        setIsTrackingLocation(false);\n      }\n    }, [locationPermissionGranted, requestPermissions, getCurrentLocation, syncLocationToBackend, setIsTrackingLocation]);\n\n    // Stop all location tracking\n    const stopTracking = (0, _react.useCallback)(() => {\n      console.log('ðŸ”´ Stopping location tracking');\n      if (locationSubscription.current) {\n        locationSubscription.current.remove();\n        locationSubscription.current = null;\n      }\n      if (offlineIntervalRef.current) {\n        clearInterval(offlineIntervalRef.current);\n        offlineIntervalRef.current = null;\n      }\n      setIsTrackingLocation(false);\n    }, [setIsTrackingLocation]);\n\n    // Handle online/offline state changes\n    (0, _react.useEffect)(() => {\n      if (!user || !locationPermissionGranted) return;\n      if (isOnline) {\n        // User went ONLINE - start continuous tracking\n        startContinuousTracking();\n      } else {\n        // User went OFFLINE - switch to periodic tracking\n        startPeriodicTracking();\n      }\n      return () => {\n        // Cleanup handled by stopTracking\n      };\n    }, [isOnline, user, locationPermissionGranted]);\n\n    // Handle app state changes (foreground/background)\n    (0, _react.useEffect)(() => {\n      const handleAppStateChange = nextAppState => {\n        if (appStateRef.current.match(/inactive|background/) && nextAppState === 'active') {\n          // App came to foreground - refresh location\n          console.log('ðŸ“± App came to foreground - refreshing location');\n          if (isTrackingLocation) {\n            getCurrentLocation();\n          }\n        }\n        appStateRef.current = nextAppState;\n      };\n      const subscription = AppState.default.addEventListener('change', handleAppStateChange);\n      return () => {\n        subscription.remove();\n      };\n    }, [isTrackingLocation, getCurrentLocation]);\n\n    // Cleanup on unmount\n    (0, _react.useEffect)(() => {\n      return () => {\n        stopTracking();\n      };\n    }, [stopTracking]);\n    return {\n      currentLocation,\n      locationPermissionGranted,\n      isTrackingLocation,\n      requestPermissions,\n      getCurrentLocation,\n      startContinuousTracking,\n      startPeriodicTracking,\n      stopTracking\n    };\n  }\n  _s(useLocationTracking, \"M4QPEfxpEYaFmnyZ3PN8hn7h5VI=\", false, function () {\n    return [_store.useAuthStore];\n  });\n});","lineCount":296,"map":[[28,2,18,0,"exports"],[28,9,18,0],[28,10,18,0,"useLocationTracking"],[28,29,18,0],[28,32,18,0,"useLocationTracking"],[28,51,18,0],[29,2,1,0],[29,6,1,0,"_react"],[29,12,1,0],[29,15,1,0,"require"],[29,22,1,0],[29,23,1,0,"_dependencyMap"],[29,37,1,0],[30,2,2,0],[30,6,2,0,"_expoLocation"],[30,19,2,0],[30,22,2,0,"require"],[30,29,2,0],[30,30,2,0,"_dependencyMap"],[30,44,2,0],[31,2,2,0],[31,6,2,0,"Location"],[31,14,2,0],[31,17,2,0,"_interopNamespace"],[31,34,2,0],[31,35,2,0,"_expoLocation"],[31,48,2,0],[32,2,2,42],[32,6,2,42,"_reactNativeWebDistExportsPlatform"],[32,40,2,42],[32,43,2,42,"require"],[32,50,2,42],[32,51,2,42,"_dependencyMap"],[32,65,2,42],[33,2,2,42],[33,6,2,42,"Platform"],[33,14,2,42],[33,17,2,42,"_interopDefault"],[33,32,2,42],[33,33,2,42,"_reactNativeWebDistExportsPlatform"],[33,67,2,42],[34,2,2,42],[34,6,2,42,"_reactNativeWebDistExportsAppState"],[34,40,2,42],[34,43,2,42,"require"],[34,50,2,42],[34,51,2,42,"_dependencyMap"],[34,65,2,42],[35,2,2,42],[35,6,2,42,"AppState"],[35,14,2,42],[35,17,2,42,"_interopDefault"],[35,32,2,42],[35,33,2,42,"_reactNativeWebDistExportsAppState"],[35,67,2,42],[36,2,4,0],[36,6,4,0,"_store"],[36,12,4,0],[36,15,4,0,"require"],[36,22,4,0],[36,23,4,0,"_dependencyMap"],[36,37,4,0],[37,2,5,0],[37,6,5,0,"_api"],[37,10,5,0],[37,13,5,0,"require"],[37,20,5,0],[37,21,5,0,"_dependencyMap"],[37,35,5,0],[38,2,5,0],[38,6,5,0,"api"],[38,9,5,0],[38,12,5,0,"_interopNamespace"],[38,29,5,0],[38,30,5,0,"_api"],[38,34,5,0],[39,2,7,0],[40,2,8,0],[40,8,8,6,"ONLINE_TRACKING_INTERVAL"],[40,32,8,30],[40,35,8,33],[40,39,8,37],[40,40,8,38],[40,41,8,39],[41,2,9,0],[41,8,9,6,"OFFLINE_TRACKING_INTERVAL"],[41,33,9,31],[41,36,9,34],[41,37,9,35],[41,40,9,38],[41,42,9,40],[41,45,9,43],[41,49,9,47],[41,50,9,48],[41,51,9,49],[43,2,11,0],[44,2,12,0],[44,8,12,6,"LOCATION_OPTIONS"],[44,24,12,48],[44,27,12,51],[45,4,13,2,"accuracy"],[45,12,13,10],[45,14,13,12,"Location"],[45,22,13,20],[45,23,13,21,"Accuracy"],[45,31,13,29],[45,32,13,30,"High"],[45,36,13,34],[46,4,14,2,"distanceInterval"],[46,20,14,18],[46,22,14,20],[46,24,14,22],[47,4,14,24],[48,4,15,2,"timeInterval"],[48,16,15,14],[48,18,15,16,"ONLINE_TRACKING_INTERVAL"],[49,2,16,0],[49,3,16,1],[50,2,18,7],[50,11,18,16,"useLocationTracking"],[50,30,18,35,"useLocationTracking"],[50,31,18,35],[50,33,18,38],[51,4,18,38,"_s"],[51,6,18,38],[52,4,19,2],[52,10,19,8],[53,6,20,4,"user"],[53,10,20,8],[54,6,21,4,"isOnline"],[54,14,21,12],[55,6,22,4,"sessionToken"],[55,18,22,16],[56,6,23,4,"currentLocation"],[56,21,23,19],[57,6,24,4,"locationPermissionGranted"],[57,31,24,29],[58,6,25,4,"isTrackingLocation"],[58,24,25,22],[59,6,26,4,"setCurrentLocation"],[59,24,26,22],[60,6,27,4,"setLocationPermissionGranted"],[60,34,27,32],[61,6,28,4,"setIsTrackingLocation"],[62,4,29,2],[62,5,29,3],[62,8,29,6],[62,12,29,6,"useAuthStore"],[62,18,29,18],[62,19,29,18,"useAuthStore"],[62,31,29,18],[62,33,29,19],[62,34,29,20],[63,4,31,2],[63,10,31,8,"locationSubscription"],[63,30,31,28],[63,33,31,31],[63,37,31,31,"useRef"],[63,43,31,37],[63,44,31,37,"useRef"],[63,50,31,37],[63,52,31,76],[63,56,31,80],[63,57,31,81],[64,4,32,2],[64,10,32,8,"offlineIntervalRef"],[64,28,32,26],[64,31,32,29],[64,35,32,29,"useRef"],[64,41,32,35],[64,42,32,35,"useRef"],[64,48,32,35],[64,50,32,59],[64,54,32,63],[64,55,32,64],[65,4,33,2],[65,10,33,8,"appStateRef"],[65,21,33,19],[65,24,33,22],[65,28,33,22,"useRef"],[65,34,33,28],[65,35,33,28,"useRef"],[65,41,33,28],[65,43,33,45,"AppState"],[65,51,33,53],[65,52,33,53,"default"],[65,59,33,53],[65,60,33,54,"currentState"],[65,72,33,66],[65,73,33,67],[67,4,35,2],[68,4,36,2],[68,10,36,8,"requestPermissions"],[68,28,36,26],[68,31,36,29],[68,35,36,29,"useCallback"],[68,41,36,40],[68,42,36,40,"useCallback"],[68,53,36,40],[68,55,36,41],[68,67,36,71],[69,6,37,4],[69,10,37,8],[70,8,38,6,"console"],[70,15,38,13],[70,16,38,14,"log"],[70,19,38,17],[70,20,38,18],[70,59,38,57],[70,60,38,58],[71,8,40,6],[71,14,40,12],[72,10,40,14,"status"],[72,16,40,20],[72,18,40,22,"foregroundStatus"],[73,8,40,39],[73,9,40,40],[73,12,40,43],[73,18,40,49,"Location"],[73,26,40,57],[73,27,40,58,"requestForegroundPermissionsAsync"],[73,60,40,91],[73,61,40,92],[73,62,40,93],[74,8,42,6],[74,12,42,10,"foregroundStatus"],[74,28,42,26],[74,33,42,31],[74,42,42,40],[74,44,42,42],[75,10,43,8,"console"],[75,17,43,15],[75,18,43,16,"log"],[75,21,43,19],[75,22,43,20],[75,63,43,61],[75,64,43,62],[76,10,44,8,"setLocationPermissionGranted"],[76,38,44,36],[76,39,44,37],[76,44,44,42],[76,45,44,43],[77,10,45,8],[77,17,45,15],[77,22,45,20],[78,8,46,6],[80,8,48,6],[81,8,49,6],[81,12,49,10,"Platform"],[81,20,49,18],[81,21,49,18,"default"],[81,28,49,18],[81,29,49,19,"OS"],[81,31,49,21],[81,36,49,26],[81,41,49,31],[81,43,49,33],[82,10,50,8],[82,16,50,14],[83,12,50,16,"status"],[83,18,50,22],[83,20,50,24,"backgroundStatus"],[84,10,50,41],[84,11,50,42],[84,14,50,45],[84,20,50,51,"Location"],[84,28,50,59],[84,29,50,60,"requestBackgroundPermissionsAsync"],[84,62,50,93],[84,63,50,94],[84,64,50,95],[85,10,51,8,"console"],[85,17,51,15],[85,18,51,16,"log"],[85,21,51,19],[85,22,51,20],[85,56,51,54],[85,58,51,56,"backgroundStatus"],[85,74,51,72],[85,75,51,73],[86,8,52,6],[87,8,54,6,"console"],[87,15,54,13],[87,16,54,14,"log"],[87,19,54,17],[87,20,54,18],[87,52,54,50],[87,53,54,51],[88,8,55,6,"setLocationPermissionGranted"],[88,36,55,34],[88,37,55,35],[88,41,55,39],[88,42,55,40],[89,8,56,6],[89,15,56,13],[89,19,56,17],[90,6,57,4],[90,7,57,5],[90,8,57,6],[90,15,57,13,"error"],[90,20,57,18],[90,22,57,20],[91,8,58,6,"console"],[91,15,58,13],[91,16,58,14,"error"],[91,21,58,19],[91,22,58,20],[91,62,58,60],[91,64,58,62,"error"],[91,69,58,67],[91,70,58,68],[92,8,59,6,"setLocationPermissionGranted"],[92,36,59,34],[92,37,59,35],[92,42,59,40],[92,43,59,41],[93,8,60,6],[93,15,60,13],[93,20,60,18],[94,6,61,4],[95,4,62,2],[95,5,62,3],[95,7,62,5],[95,8,62,6,"setLocationPermissionGranted"],[95,36,62,34],[95,37,62,35],[95,38,62,36],[97,4,64,2],[98,4,65,2],[98,10,65,8,"getCurrentLocation"],[98,28,65,26],[98,31,65,29],[98,35,65,29,"useCallback"],[98,41,65,40],[98,42,65,40,"useCallback"],[98,53,65,40],[98,55,65,41],[98,67,65,83],[99,6,66,4],[99,10,66,8],[100,8,67,6],[100,12,67,10],[100,13,67,11,"locationPermissionGranted"],[100,38,67,36],[100,40,67,38],[101,10,68,8],[101,16,68,14,"granted"],[101,23,68,21],[101,26,68,24],[101,32,68,30,"requestPermissions"],[101,50,68,48],[101,51,68,49],[101,52,68,50],[102,10,69,8],[102,14,69,12],[102,15,69,13,"granted"],[102,22,69,20],[102,24,69,22],[102,31,69,29],[102,35,69,33],[103,8,70,6],[104,8,72,6,"console"],[104,15,72,13],[104,16,72,14,"log"],[104,19,72,17],[104,20,72,18],[104,52,72,50],[104,53,72,51],[105,8,73,6],[105,14,73,12,"location"],[105,22,73,20],[105,25,73,23],[105,31,73,29,"Location"],[105,39,73,37],[105,40,73,38,"getCurrentPositionAsync"],[105,63,73,61],[105,64,73,62],[106,10,74,8,"accuracy"],[106,18,74,16],[106,20,74,18,"Location"],[106,28,74,26],[106,29,74,27,"Accuracy"],[106,37,74,35],[106,38,74,36,"High"],[107,8,75,6],[107,9,75,7],[107,10,75,8],[108,8,77,6],[108,14,77,12,"locationData"],[108,26,77,38],[108,29,77,41],[109,10,78,8,"latitude"],[109,18,78,16],[109,20,78,18,"location"],[109,28,78,26],[109,29,78,27,"coords"],[109,35,78,33],[109,36,78,34,"latitude"],[109,44,78,42],[110,10,79,8,"longitude"],[110,19,79,17],[110,21,79,19,"location"],[110,29,79,27],[110,30,79,28,"coords"],[110,36,79,34],[110,37,79,35,"longitude"],[110,46,79,44],[111,10,80,8,"accuracy"],[111,18,80,16],[111,20,80,18,"location"],[111,28,80,26],[111,29,80,27,"coords"],[111,35,80,33],[111,36,80,34,"accuracy"],[111,44,80,42],[111,48,80,46,"undefined"],[111,57,80,55],[112,10,81,8,"altitude"],[112,18,81,16],[112,20,81,18,"location"],[112,28,81,26],[112,29,81,27,"coords"],[112,35,81,33],[112,36,81,34,"altitude"],[112,44,81,42],[112,48,81,46,"undefined"],[112,57,81,55],[113,10,82,8,"heading"],[113,17,82,15],[113,19,82,17,"location"],[113,27,82,25],[113,28,82,26,"coords"],[113,34,82,32],[113,35,82,33,"heading"],[113,42,82,40],[113,46,82,44,"undefined"],[113,55,82,53],[114,10,83,8,"speed"],[114,15,83,13],[114,17,83,15,"location"],[114,25,83,23],[114,26,83,24,"coords"],[114,32,83,30],[114,33,83,31,"speed"],[114,38,83,36],[114,42,83,40,"undefined"],[114,51,83,49],[115,10,84,8,"timestamp"],[115,19,84,17],[115,21,84,19,"location"],[115,29,84,27],[115,30,84,28,"timestamp"],[116,8,85,6],[116,9,85,7],[117,8,87,6,"console"],[117,15,87,13],[117,16,87,14,"log"],[117,19,87,17],[117,20,87,18],[117,42,87,40],[117,44,87,42,"locationData"],[117,56,87,54],[117,57,87,55,"latitude"],[117,65,87,63],[117,67,87,65,"locationData"],[117,79,87,77],[117,80,87,78,"longitude"],[117,89,87,87],[117,90,87,88],[118,8,88,6,"setCurrentLocation"],[118,26,88,24],[118,27,88,25,"locationData"],[118,39,88,37],[118,40,88,38],[119,8,90,6],[119,15,90,13,"locationData"],[119,27,90,25],[120,6,91,4],[120,7,91,5],[120,8,91,6],[120,15,91,13,"error"],[120,20,91,18],[120,22,91,20],[121,8,92,6,"console"],[121,15,92,13],[121,16,92,14,"error"],[121,21,92,19],[121,22,92,20],[121,55,92,53],[121,57,92,55,"error"],[121,62,92,60],[121,63,92,61],[122,8,93,6],[122,15,93,13],[122,19,93,17],[123,6,94,4],[124,4,95,2],[124,5,95,3],[124,7,95,5],[124,8,95,6,"locationPermissionGranted"],[124,33,95,31],[124,35,95,33,"requestPermissions"],[124,53,95,51],[124,55,95,53,"setCurrentLocation"],[124,73,95,71],[124,74,95,72],[124,75,95,73],[126,4,97,2],[127,4,98,2],[127,10,98,8,"syncLocationToBackend"],[127,31,98,29],[127,34,98,32],[127,38,98,32,"useCallback"],[127,44,98,43],[127,45,98,43,"useCallback"],[127,56,98,43],[127,58,98,44],[127,64,98,51,"location"],[127,72,98,73],[127,76,98,78],[128,6,99,4],[128,10,99,8],[128,11,99,9,"sessionToken"],[128,23,99,21],[128,27,99,25],[128,28,99,26,"user"],[128,32,99,30],[128,34,99,32,"user_id"],[128,41,99,39],[128,43,99,41],[129,6,101,4],[129,10,101,8],[130,8,102,6,"console"],[130,15,102,13],[130,16,102,14,"log"],[130,19,102,17],[130,20,102,18],[130,55,102,53],[130,56,102,54],[131,8,103,6],[131,14,103,12,"api"],[131,17,103,15],[131,18,103,16,"updateLocation"],[131,32,103,30],[131,33,103,31],[132,10,104,8,"latitude"],[132,18,104,16],[132,20,104,18,"location"],[132,28,104,26],[132,29,104,27,"latitude"],[132,37,104,35],[133,10,105,8,"longitude"],[133,19,105,17],[133,21,105,19,"location"],[133,29,105,27],[133,30,105,28,"longitude"],[133,39,105,37],[134,10,106,8,"accuracy"],[134,18,106,16],[134,20,106,18,"location"],[134,28,106,26],[134,29,106,27,"accuracy"],[134,37,106,35],[135,10,107,8,"heading"],[135,17,107,15],[135,19,107,17,"location"],[135,27,107,25],[135,28,107,26,"heading"],[135,35,107,33],[136,10,108,8,"speed"],[136,15,108,13],[136,17,108,15,"location"],[136,25,108,23],[136,26,108,24,"speed"],[136,31,108,29],[137,10,109,8,"timestamp"],[137,19,109,17],[137,21,109,19,"location"],[137,29,109,27],[137,30,109,28,"timestamp"],[137,39,109,37],[138,10,110,8,"is_online"],[138,19,110,17],[138,21,110,19,"isOnline"],[139,8,111,6],[139,9,111,7],[139,10,111,8],[140,8,112,6,"console"],[140,15,112,13],[140,16,112,14,"log"],[140,19,112,17],[140,20,112,18],[140,50,112,48],[140,51,112,49],[141,6,113,4],[141,7,113,5],[141,8,113,6],[141,15,113,13,"error"],[141,20,113,18],[141,22,113,20],[142,8,114,6,"console"],[142,15,114,13],[142,16,114,14,"error"],[142,21,114,19],[142,22,114,20],[142,58,114,56],[142,60,114,58,"error"],[142,65,114,63],[142,66,114,64],[143,6,115,4],[144,4,116,2],[144,5,116,3],[144,7,116,5],[144,8,116,6,"sessionToken"],[144,20,116,18],[144,22,116,20,"user"],[144,26,116,24],[144,28,116,26,"user_id"],[144,35,116,33],[144,37,116,35,"isOnline"],[144,45,116,43],[144,46,116,44],[144,47,116,45],[146,4,118,2],[147,4,119,2],[147,10,119,8,"handleLocationUpdate"],[147,30,119,28],[147,33,119,31],[147,37,119,31,"useCallback"],[147,43,119,42],[147,44,119,42,"useCallback"],[147,55,119,42],[147,57,119,44,"location"],[147,65,119,77],[147,69,119,82],[148,6,120,4],[148,12,120,10,"locationData"],[148,24,120,36],[148,27,120,39],[149,8,121,6,"latitude"],[149,16,121,14],[149,18,121,16,"location"],[149,26,121,24],[149,27,121,25,"coords"],[149,33,121,31],[149,34,121,32,"latitude"],[149,42,121,40],[150,8,122,6,"longitude"],[150,17,122,15],[150,19,122,17,"location"],[150,27,122,25],[150,28,122,26,"coords"],[150,34,122,32],[150,35,122,33,"longitude"],[150,44,122,42],[151,8,123,6,"accuracy"],[151,16,123,14],[151,18,123,16,"location"],[151,26,123,24],[151,27,123,25,"coords"],[151,33,123,31],[151,34,123,32,"accuracy"],[151,42,123,40],[151,46,123,44,"undefined"],[151,55,123,53],[152,8,124,6,"altitude"],[152,16,124,14],[152,18,124,16,"location"],[152,26,124,24],[152,27,124,25,"coords"],[152,33,124,31],[152,34,124,32,"altitude"],[152,42,124,40],[152,46,124,44,"undefined"],[152,55,124,53],[153,8,125,6,"heading"],[153,15,125,13],[153,17,125,15,"location"],[153,25,125,23],[153,26,125,24,"coords"],[153,32,125,30],[153,33,125,31,"heading"],[153,40,125,38],[153,44,125,42,"undefined"],[153,53,125,51],[154,8,126,6,"speed"],[154,13,126,11],[154,15,126,13,"location"],[154,23,126,21],[154,24,126,22,"coords"],[154,30,126,28],[154,31,126,29,"speed"],[154,36,126,34],[154,40,126,38,"undefined"],[154,49,126,47],[155,8,127,6,"timestamp"],[155,17,127,15],[155,19,127,17,"location"],[155,27,127,25],[155,28,127,26,"timestamp"],[156,6,128,4],[156,7,128,5],[157,6,130,4,"console"],[157,13,130,11],[157,14,130,12,"log"],[157,17,130,15],[157,18,130,16],[157,39,130,37],[157,41,130,39,"locationData"],[157,53,130,51],[157,54,130,52,"latitude"],[157,62,130,60],[157,64,130,62,"locationData"],[157,76,130,74],[157,77,130,75,"longitude"],[157,86,130,84],[157,88,130,86,"isOnline"],[157,96,130,94],[157,99,130,97],[157,109,130,107],[157,112,130,110],[157,123,130,121],[157,124,130,122],[158,6,131,4,"setCurrentLocation"],[158,24,131,22],[158,25,131,23,"locationData"],[158,37,131,35],[158,38,131,36],[159,6,132,4,"syncLocationToBackend"],[159,27,132,25],[159,28,132,26,"locationData"],[159,40,132,38],[159,41,132,39],[160,4,133,2],[160,5,133,3],[160,7,133,5],[160,8,133,6,"setCurrentLocation"],[160,26,133,24],[160,28,133,26,"syncLocationToBackend"],[160,49,133,47],[160,51,133,49,"isOnline"],[160,59,133,57],[160,60,133,58],[160,61,133,59],[162,4,135,2],[163,4,136,2],[163,10,136,8,"startContinuousTracking"],[163,33,136,31],[163,36,136,34],[163,40,136,34,"useCallback"],[163,46,136,45],[163,47,136,45,"useCallback"],[163,58,136,45],[163,60,136,46],[163,72,136,58],[164,6,137,4],[164,10,137,8],[165,8,138,6],[165,12,138,10],[165,13,138,11,"locationPermissionGranted"],[165,38,138,36],[165,40,138,38],[166,10,139,8],[166,16,139,14,"granted"],[166,23,139,21],[166,26,139,24],[166,32,139,30,"requestPermissions"],[166,50,139,48],[166,51,139,49],[166,52,139,50],[167,10,140,8],[167,14,140,12],[167,15,140,13,"granted"],[167,22,140,20],[167,24,140,22],[168,8,141,6],[170,8,143,6],[171,8,144,6],[171,12,144,10,"locationSubscription"],[171,32,144,30],[171,33,144,31,"current"],[171,40,144,38],[171,42,144,40],[172,10,145,8,"locationSubscription"],[172,30,145,28],[172,31,145,29,"current"],[172,38,145,36],[172,39,145,37,"remove"],[172,45,145,43],[172,46,145,44],[172,47,145,45],[173,8,146,6],[174,8,148,6,"console"],[174,15,148,13],[174,16,148,14,"log"],[174,19,148,17],[174,20,148,18],[174,76,148,74],[174,77,148,75],[175,8,149,6,"setIsTrackingLocation"],[175,29,149,27],[175,30,149,28],[175,34,149,32],[175,35,149,33],[177,8,151,6],[178,8,152,6],[178,14,152,12,"getCurrentLocation"],[178,32,152,30],[178,33,152,31],[178,34,152,32],[180,8,154,6],[181,8,155,6,"locationSubscription"],[181,28,155,26],[181,29,155,27,"current"],[181,36,155,34],[181,39,155,37],[181,45,155,43,"Location"],[181,53,155,51],[181,54,155,52,"watchPositionAsync"],[181,72,155,70],[181,73,156,8,"LOCATION_OPTIONS"],[181,89,156,24],[181,91,157,8,"handleLocationUpdate"],[181,111,158,6],[181,112,158,7],[182,6,159,4],[182,7,159,5],[182,8,159,6],[182,15,159,13,"error"],[182,20,159,18],[182,22,159,20],[183,8,160,6,"console"],[183,15,160,13],[183,16,160,14,"error"],[183,21,160,19],[183,22,160,20],[183,59,160,57],[183,61,160,59,"error"],[183,66,160,64],[183,67,160,65],[184,8,161,6,"setIsTrackingLocation"],[184,29,161,27],[184,30,161,28],[184,35,161,33],[184,36,161,34],[185,6,162,4],[186,4,163,2],[186,5,163,3],[186,7,163,5],[186,8,163,6,"locationPermissionGranted"],[186,33,163,31],[186,35,163,33,"requestPermissions"],[186,53,163,51],[186,55,163,53,"getCurrentLocation"],[186,73,163,71],[186,75,163,73,"handleLocationUpdate"],[186,95,163,93],[186,97,163,95,"setIsTrackingLocation"],[186,118,163,116],[186,119,163,117],[186,120,163,118],[188,4,165,2],[189,4,166,2],[189,10,166,8,"startPeriodicTracking"],[189,31,166,29],[189,34,166,32],[189,38,166,32,"useCallback"],[189,44,166,43],[189,45,166,43,"useCallback"],[189,56,166,43],[189,58,166,44],[189,70,166,56],[190,6,167,4],[190,10,167,8],[191,8,168,6],[191,12,168,10],[191,13,168,11,"locationPermissionGranted"],[191,38,168,36],[191,40,168,38],[192,10,169,8],[192,16,169,14,"granted"],[192,23,169,21],[192,26,169,24],[192,32,169,30,"requestPermissions"],[192,50,169,48],[192,51,169,49],[192,52,169,50],[193,10,170,8],[193,14,170,12],[193,15,170,13,"granted"],[193,22,170,20],[193,24,170,22],[194,8,171,6],[196,8,173,6],[197,8,174,6],[197,12,174,10,"locationSubscription"],[197,32,174,30],[197,33,174,31,"current"],[197,40,174,38],[197,42,174,40],[198,10,175,8,"locationSubscription"],[198,30,175,28],[198,31,175,29,"current"],[198,38,175,36],[198,39,175,37,"remove"],[198,45,175,43],[198,46,175,44],[198,47,175,45],[199,10,176,8,"locationSubscription"],[199,30,176,28],[199,31,176,29,"current"],[199,38,176,36],[199,41,176,39],[199,45,176,43],[200,8,177,6],[202,8,179,6],[203,8,180,6],[203,12,180,10,"offlineIntervalRef"],[203,30,180,28],[203,31,180,29,"current"],[203,38,180,36],[203,40,180,38],[204,10,181,8,"clearInterval"],[204,23,181,21],[204,24,181,22,"offlineIntervalRef"],[204,42,181,40],[204,43,181,41,"current"],[204,50,181,48],[204,51,181,49],[205,8,182,6],[206,8,184,6,"console"],[206,15,184,13],[206,16,184,14,"log"],[206,19,184,17],[206,20,184,18],[206,89,184,87],[206,90,184,88],[207,8,185,6,"setIsTrackingLocation"],[207,29,185,27],[207,30,185,28],[207,34,185,32],[207,35,185,33],[209,8,187,6],[210,8,188,6],[210,14,188,12,"location"],[210,22,188,20],[210,25,188,23],[210,31,188,29,"getCurrentLocation"],[210,49,188,47],[210,50,188,48],[210,51,188,49],[211,8,189,6],[211,12,189,10,"location"],[211,20,189,18],[211,22,189,20],[212,10,190,8,"syncLocationToBackend"],[212,31,190,29],[212,32,190,30,"location"],[212,40,190,38],[212,41,190,39],[213,8,191,6],[215,8,193,6],[216,8,194,6,"offlineIntervalRef"],[216,26,194,24],[216,27,194,25,"current"],[216,34,194,32],[216,37,194,35,"setInterval"],[216,48,194,46],[216,49,194,47],[216,61,194,59],[217,10,195,8,"console"],[217,17,195,15],[217,18,195,16,"log"],[217,21,195,19],[217,22,195,20],[217,67,195,65],[217,68,195,66],[218,10,196,8],[218,16,196,14,"loc"],[218,19,196,17],[218,22,196,20],[218,28,196,26,"getCurrentLocation"],[218,46,196,44],[218,47,196,45],[218,48,196,46],[219,10,197,8],[219,14,197,12,"loc"],[219,17,197,15],[219,19,197,17],[220,12,198,10,"syncLocationToBackend"],[220,33,198,31],[220,34,198,32,"loc"],[220,37,198,35],[220,38,198,36],[221,10,199,8],[222,8,200,6],[222,9,200,7],[222,11,200,9,"OFFLINE_TRACKING_INTERVAL"],[222,36,200,34],[222,37,200,35],[223,6,201,4],[223,7,201,5],[223,8,201,6],[223,15,201,13,"error"],[223,20,201,18],[223,22,201,20],[224,8,202,6,"console"],[224,15,202,13],[224,16,202,14,"error"],[224,21,202,19],[224,22,202,20],[224,57,202,55],[224,59,202,57,"error"],[224,64,202,62],[224,65,202,63],[225,8,203,6,"setIsTrackingLocation"],[225,29,203,27],[225,30,203,28],[225,35,203,33],[225,36,203,34],[226,6,204,4],[227,4,205,2],[227,5,205,3],[227,7,205,5],[227,8,205,6,"locationPermissionGranted"],[227,33,205,31],[227,35,205,33,"requestPermissions"],[227,53,205,51],[227,55,205,53,"getCurrentLocation"],[227,73,205,71],[227,75,205,73,"syncLocationToBackend"],[227,96,205,94],[227,98,205,96,"setIsTrackingLocation"],[227,119,205,117],[227,120,205,118],[227,121,205,119],[229,4,207,2],[230,4,208,2],[230,10,208,8,"stopTracking"],[230,22,208,20],[230,25,208,23],[230,29,208,23,"useCallback"],[230,35,208,34],[230,36,208,34,"useCallback"],[230,47,208,34],[230,49,208,35],[230,55,208,41],[231,6,209,4,"console"],[231,13,209,11],[231,14,209,12,"log"],[231,17,209,15],[231,18,209,16],[231,49,209,47],[231,50,209,48],[232,6,211,4],[232,10,211,8,"locationSubscription"],[232,30,211,28],[232,31,211,29,"current"],[232,38,211,36],[232,40,211,38],[233,8,212,6,"locationSubscription"],[233,28,212,26],[233,29,212,27,"current"],[233,36,212,34],[233,37,212,35,"remove"],[233,43,212,41],[233,44,212,42],[233,45,212,43],[234,8,213,6,"locationSubscription"],[234,28,213,26],[234,29,213,27,"current"],[234,36,213,34],[234,39,213,37],[234,43,213,41],[235,6,214,4],[236,6,216,4],[236,10,216,8,"offlineIntervalRef"],[236,28,216,26],[236,29,216,27,"current"],[236,36,216,34],[236,38,216,36],[237,8,217,6,"clearInterval"],[237,21,217,19],[237,22,217,20,"offlineIntervalRef"],[237,40,217,38],[237,41,217,39,"current"],[237,48,217,46],[237,49,217,47],[238,8,218,6,"offlineIntervalRef"],[238,26,218,24],[238,27,218,25,"current"],[238,34,218,32],[238,37,218,35],[238,41,218,39],[239,6,219,4],[240,6,221,4,"setIsTrackingLocation"],[240,27,221,25],[240,28,221,26],[240,33,221,31],[240,34,221,32],[241,4,222,2],[241,5,222,3],[241,7,222,5],[241,8,222,6,"setIsTrackingLocation"],[241,29,222,27],[241,30,222,28],[241,31,222,29],[243,4,224,2],[244,4,225,2],[244,8,225,2,"useEffect"],[244,14,225,11],[244,15,225,11,"useEffect"],[244,24,225,11],[244,26,225,12],[244,32,225,18],[245,6,226,4],[245,10,226,8],[245,11,226,9,"user"],[245,15,226,13],[245,19,226,17],[245,20,226,18,"locationPermissionGranted"],[245,45,226,43],[245,47,226,45],[246,6,228,4],[246,10,228,8,"isOnline"],[246,18,228,16],[246,20,228,18],[247,8,229,6],[248,8,230,6,"startContinuousTracking"],[248,31,230,29],[248,32,230,30],[248,33,230,31],[249,6,231,4],[249,7,231,5],[249,13,231,11],[250,8,232,6],[251,8,233,6,"startPeriodicTracking"],[251,29,233,27],[251,30,233,28],[251,31,233,29],[252,6,234,4],[253,6,236,4],[253,13,236,11],[253,19,236,17],[254,8,237,6],[255,6,237,6],[255,7,238,5],[256,4,239,2],[256,5,239,3],[256,7,239,5],[256,8,239,6,"isOnline"],[256,16,239,14],[256,18,239,16,"user"],[256,22,239,20],[256,24,239,22,"locationPermissionGranted"],[256,49,239,47],[256,50,239,48],[256,51,239,49],[258,4,241,2],[259,4,242,2],[259,8,242,2,"useEffect"],[259,14,242,11],[259,15,242,11,"useEffect"],[259,24,242,11],[259,26,242,12],[259,32,242,18],[260,6,243,4],[260,12,243,10,"handleAppStateChange"],[260,32,243,30],[260,35,243,34,"nextAppState"],[260,47,243,62],[260,51,243,67],[261,8,244,6],[261,12,244,10,"appStateRef"],[261,23,244,21],[261,24,244,22,"current"],[261,31,244,29],[261,32,244,30,"match"],[261,37,244,35],[261,38,244,36],[261,59,244,57],[261,60,244,58],[261,64,244,62,"nextAppState"],[261,76,244,74],[261,81,244,79],[261,89,244,87],[261,91,244,89],[262,10,245,8],[263,10,246,8,"console"],[263,17,246,15],[263,18,246,16,"log"],[263,21,246,19],[263,22,246,20],[263,71,246,69],[263,72,246,70],[264,10,247,8],[264,14,247,12,"isTrackingLocation"],[264,32,247,30],[264,34,247,32],[265,12,248,10,"getCurrentLocation"],[265,30,248,28],[265,31,248,29],[265,32,248,30],[266,10,249,8],[267,8,250,6],[268,8,251,6,"appStateRef"],[268,19,251,17],[268,20,251,18,"current"],[268,27,251,25],[268,30,251,28,"nextAppState"],[268,42,251,40],[269,6,252,4],[269,7,252,5],[270,6,254,4],[270,12,254,10,"subscription"],[270,24,254,22],[270,27,254,25,"AppState"],[270,35,254,33],[270,36,254,33,"default"],[270,43,254,33],[270,44,254,34,"addEventListener"],[270,60,254,50],[270,61,254,51],[270,69,254,59],[270,71,254,61,"handleAppStateChange"],[270,91,254,81],[270,92,254,82],[271,6,256,4],[271,13,256,11],[271,19,256,17],[272,8,257,6,"subscription"],[272,20,257,18],[272,21,257,19,"remove"],[272,27,257,25],[272,28,257,26],[272,29,257,27],[273,6,258,4],[273,7,258,5],[274,4,259,2],[274,5,259,3],[274,7,259,5],[274,8,259,6,"isTrackingLocation"],[274,26,259,24],[274,28,259,26,"getCurrentLocation"],[274,46,259,44],[274,47,259,45],[274,48,259,46],[276,4,261,2],[277,4,262,2],[277,8,262,2,"useEffect"],[277,14,262,11],[277,15,262,11,"useEffect"],[277,24,262,11],[277,26,262,12],[277,32,262,18],[278,6,263,4],[278,13,263,11],[278,19,263,17],[279,8,264,6,"stopTracking"],[279,20,264,18],[279,21,264,19],[279,22,264,20],[280,6,265,4],[280,7,265,5],[281,4,266,2],[281,5,266,3],[281,7,266,5],[281,8,266,6,"stopTracking"],[281,20,266,18],[281,21,266,19],[281,22,266,20],[282,4,268,2],[282,11,268,9],[283,6,269,4,"currentLocation"],[283,21,269,19],[284,6,270,4,"locationPermissionGranted"],[284,31,270,29],[285,6,271,4,"isTrackingLocation"],[285,24,271,22],[286,6,272,4,"requestPermissions"],[286,24,272,22],[287,6,273,4,"getCurrentLocation"],[287,24,273,22],[288,6,274,4,"startContinuousTracking"],[288,29,274,27],[289,6,275,4,"startPeriodicTracking"],[289,27,275,25],[290,6,276,4,"stopTracking"],[291,4,277,2],[291,5,277,3],[292,2,278,0],[293,2,278,1,"_s"],[293,4,278,1],[293,5,18,16,"useLocationTracking"],[293,24,18,35],[294,4,18,35],[294,12,29,6,"useAuthStore"],[294,18,29,18],[294,19,29,18,"useAuthStore"],[294,31,29,18],[295,2,29,18],[296,0,29,18],[296,3]],"functionMap":{"names":["<global>","useLocationTracking","requestPermissions","getCurrentLocation","syncLocationToBackend","handleLocationUpdate","startContinuousTracking","startPeriodicTracking","setInterval$argument_0","stopTracking","useEffect$argument_0","<anonymous>","handleAppStateChange"],"mappings":"AAA;OCiB;yCCkB;GD0B;yCEG;GF8B;4CGG;GHkB;2CIG;GJc;8CKG;GL2B;4CMG;+CC4B;ODM;GNK;mCQG;GRc;YSG;WCW;KDE;GTC;YSG;iCEC;KFS;WCI;KDE;GTC;YSG;WCC;KDE;GTC;CDY"},"hasCjsExports":false},"type":"js/module"}]}