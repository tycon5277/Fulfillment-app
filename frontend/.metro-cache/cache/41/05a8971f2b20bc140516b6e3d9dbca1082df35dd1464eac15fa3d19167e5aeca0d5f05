{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  // Location types\n\n  var useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    sessionToken: null,\n    isLoading: true,\n    isUserLoaded: false,\n    // Start as false\n    stats: null,\n    activeWork: [],\n    isOnline: false,\n    // Location state\n    currentLocation: null,\n    locationPermissionGranted: false,\n    isTrackingLocation: false,\n    setUser: user => set({\n      user,\n      isUserLoaded: true\n    }),\n    // Mark as loaded when user is set\n    setSessionToken: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* (token) {\n        if (token) {\n          yield AsyncStorage.default.setItem('session_token', token);\n        } else {\n          yield AsyncStorage.default.removeItem('session_token');\n        }\n        set({\n          sessionToken: token\n        });\n      });\n      return function setSessionToken(_x) {\n        return _ref.apply(this, arguments);\n      };\n    }(),\n    setIsLoading: loading => set({\n      isLoading: loading\n    }),\n    setIsUserLoaded: loaded => set({\n      isUserLoaded: loaded\n    }),\n    setStats: stats => set({\n      stats\n    }),\n    setIsOnline: function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* (online) {\n        // Persist online state to AsyncStorage\n        try {\n          yield AsyncStorage.default.setItem('is_online', JSON.stringify(online));\n        } catch (error) {\n          console.error('Error saving online state:', error);\n        }\n        set({\n          isOnline: online\n        });\n      });\n      return function setIsOnline(_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }(),\n    setActiveWork: work => set({\n      activeWork: work\n    }),\n    addActiveWork: work => set(state => ({\n      activeWork: [...state.activeWork, work]\n    })),\n    removeActiveWork: id => set(state => ({\n      activeWork: state.activeWork.filter(w => w.id !== id)\n    })),\n    // Location actions\n    setCurrentLocation: location => set({\n      currentLocation: location\n    }),\n    setLocationPermissionGranted: granted => set({\n      locationPermissionGranted: granted\n    }),\n    setIsTrackingLocation: tracking => set({\n      isTrackingLocation: tracking\n    }),\n    logout: function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* () {\n        yield AsyncStorage.default.removeItem('session_token');\n        yield AsyncStorage.default.removeItem('is_online');\n        set({\n          user: null,\n          sessionToken: null,\n          stats: null,\n          isOnline: false,\n          activeWork: [],\n          isUserLoaded: false,\n          currentLocation: null,\n          isTrackingLocation: false\n        });\n      });\n      return function logout() {\n        return _ref3.apply(this, arguments);\n      };\n    }(),\n    loadStoredAuth: function () {\n      var _ref4 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          var token = yield AsyncStorage.default.getItem('session_token');\n          var onlineState = yield AsyncStorage.default.getItem('is_online');\n          if (token) {\n            set({\n              sessionToken: token\n            });\n          }\n\n          // Restore online state if saved\n          if (onlineState !== null) {\n            set({\n              isOnline: JSON.parse(onlineState)\n            });\n          }\n        } catch (error) {\n          console.error('Error loading stored auth:', error);\n        } finally {\n          set({\n            isLoading: false\n          });\n        }\n      });\n      return function loadStoredAuth() {\n        return _ref4.apply(this, arguments);\n      };\n    }()\n  }));\n});","lineCount":151,"map":[[12,2,111,0,"Object"],[12,8,111,0],[12,9,111,0,"defineProperty"],[12,23,111,0],[12,24,111,0,"exports"],[12,31,111,0],[13,4,111,0,"enumerable"],[13,14,111,0],[14,4,111,0,"get"],[14,7,111,0],[14,18,111,0,"get"],[14,19,111,0],[15,6,111,0],[15,13,111,0,"useAuthStore"],[15,25,111,0],[16,4,111,0],[17,2,111,0],[18,2,189,4],[18,6,189,4,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,189,4],[18,45,189,4,"require"],[18,52,189,4],[18,53,189,4,"_dependencyMap"],[18,67,189,4],[19,2,189,4],[19,6,189,4,"_asyncToGenerator"],[19,23,189,4],[19,26,189,4,"_interopDefault"],[19,41,189,4],[19,42,189,4,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,189,4],[20,2,1,0],[20,6,1,0,"_zustand"],[20,14,1,0],[20,17,1,0,"require"],[20,24,1,0],[20,25,1,0,"_dependencyMap"],[20,39,1,0],[21,2,2,0],[21,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,42,2,0],[21,45,2,0,"require"],[21,52,2,0],[21,53,2,0,"_dependencyMap"],[21,67,2,0],[22,2,2,0],[22,6,2,0,"AsyncStorage"],[22,18,2,0],[22,21,2,0,"_interopDefault"],[22,36,2,0],[22,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[22,73,2,0],[23,2,6,0],[25,2,111,7],[25,6,111,13,"useAuthStore"],[25,18,111,25],[25,21,111,28],[25,25,111,28,"create"],[25,33,111,34],[25,34,111,34,"create"],[25,40,111,34],[25,42,111,46],[25,43,111,47,"set"],[25,46,111,50],[25,48,111,52,"get"],[25,51,111,55],[25,57,111,61],[26,4,112,2,"user"],[26,8,112,6],[26,10,112,8],[26,14,112,12],[27,4,113,2,"sessionToken"],[27,16,113,14],[27,18,113,16],[27,22,113,20],[28,4,114,2,"isLoading"],[28,13,114,11],[28,15,114,13],[28,19,114,17],[29,4,115,2,"isUserLoaded"],[29,16,115,14],[29,18,115,16],[29,23,115,21],[30,4,115,24],[31,4,116,2,"stats"],[31,9,116,7],[31,11,116,9],[31,15,116,13],[32,4,117,2,"activeWork"],[32,14,117,12],[32,16,117,14],[32,18,117,16],[33,4,118,2,"isOnline"],[33,12,118,10],[33,14,118,12],[33,19,118,17],[34,4,120,2],[35,4,121,2,"currentLocation"],[35,19,121,17],[35,21,121,19],[35,25,121,23],[36,4,122,2,"locationPermissionGranted"],[36,29,122,27],[36,31,122,29],[36,36,122,34],[37,4,123,2,"isTrackingLocation"],[37,22,123,20],[37,24,123,22],[37,29,123,27],[38,4,125,2,"setUser"],[38,11,125,9],[38,13,125,12,"user"],[38,17,125,16],[38,21,125,21,"set"],[38,24,125,24],[38,25,125,25],[39,6,125,27,"user"],[39,10,125,31],[40,6,125,33,"isUserLoaded"],[40,18,125,45],[40,20,125,47],[41,4,125,52],[41,5,125,53],[41,6,125,54],[42,4,125,57],[43,4,126,2,"setSessionToken"],[43,19,126,17],[44,6,126,17],[44,10,126,17,"_ref"],[44,14,126,17],[44,21,126,17,"_asyncToGenerator"],[44,38,126,17],[44,39,126,17,"default"],[44,46,126,17],[44,48,126,19],[44,59,126,26,"token"],[44,64,126,31],[44,66,126,36],[45,8,127,4],[45,12,127,8,"token"],[45,17,127,13],[45,19,127,15],[46,10,128,6],[46,16,128,12,"AsyncStorage"],[46,28,128,24],[46,29,128,24,"default"],[46,36,128,24],[46,37,128,25,"setItem"],[46,44,128,32],[46,45,128,33],[46,60,128,48],[46,62,128,50,"token"],[46,67,128,55],[46,68,128,56],[47,8,129,4],[47,9,129,5],[47,15,129,11],[48,10,130,6],[48,16,130,12,"AsyncStorage"],[48,28,130,24],[48,29,130,24,"default"],[48,36,130,24],[48,37,130,25,"removeItem"],[48,47,130,35],[48,48,130,36],[48,63,130,51],[48,64,130,52],[49,8,131,4],[50,8,132,4,"set"],[50,11,132,7],[50,12,132,8],[51,10,132,10,"sessionToken"],[51,22,132,22],[51,24,132,24,"token"],[52,8,132,30],[52,9,132,31],[52,10,132,32],[53,6,133,2],[53,7,133,3],[54,6,133,3],[54,22,126,2,"setSessionToken"],[54,37,126,17,"setSessionToken"],[54,38,126,17,"_x"],[54,40,126,17],[55,8,126,17],[55,15,126,17,"_ref"],[55,19,126,17],[55,20,126,17,"apply"],[55,25,126,17],[55,32,126,17,"arguments"],[55,41,126,17],[56,6,126,17],[57,4,126,17],[57,7,133,3],[58,4,134,2,"setIsLoading"],[58,16,134,14],[58,18,134,17,"loading"],[58,25,134,24],[58,29,134,29,"set"],[58,32,134,32],[58,33,134,33],[59,6,134,35,"isLoading"],[59,15,134,44],[59,17,134,46,"loading"],[60,4,134,54],[60,5,134,55],[60,6,134,56],[61,4,135,2,"setIsUserLoaded"],[61,19,135,17],[61,21,135,20,"loaded"],[61,27,135,26],[61,31,135,31,"set"],[61,34,135,34],[61,35,135,35],[62,6,135,37,"isUserLoaded"],[62,18,135,49],[62,20,135,51,"loaded"],[63,4,135,58],[63,5,135,59],[63,6,135,60],[64,4,136,2,"setStats"],[64,12,136,10],[64,14,136,13,"stats"],[64,19,136,18],[64,23,136,23,"set"],[64,26,136,26],[64,27,136,27],[65,6,136,29,"stats"],[66,4,136,35],[66,5,136,36],[66,6,136,37],[67,4,137,2,"setIsOnline"],[67,15,137,13],[68,6,137,13],[68,10,137,13,"_ref2"],[68,15,137,13],[68,22,137,13,"_asyncToGenerator"],[68,39,137,13],[68,40,137,13,"default"],[68,47,137,13],[68,49,137,15],[68,60,137,22,"online"],[68,66,137,28],[68,68,137,33],[69,8,138,4],[70,8,139,4],[70,12,139,8],[71,10,140,6],[71,16,140,12,"AsyncStorage"],[71,28,140,24],[71,29,140,24,"default"],[71,36,140,24],[71,37,140,25,"setItem"],[71,44,140,32],[71,45,140,33],[71,56,140,44],[71,58,140,46,"JSON"],[71,62,140,50],[71,63,140,51,"stringify"],[71,72,140,60],[71,73,140,61,"online"],[71,79,140,67],[71,80,140,68],[71,81,140,69],[72,8,141,4],[72,9,141,5],[72,10,141,6],[72,17,141,13,"error"],[72,22,141,18],[72,24,141,20],[73,10,142,6,"console"],[73,17,142,13],[73,18,142,14,"error"],[73,23,142,19],[73,24,142,20],[73,52,142,48],[73,54,142,50,"error"],[73,59,142,55],[73,60,142,56],[74,8,143,4],[75,8,144,4,"set"],[75,11,144,7],[75,12,144,8],[76,10,144,10,"isOnline"],[76,18,144,18],[76,20,144,20,"online"],[77,8,144,27],[77,9,144,28],[77,10,144,29],[78,6,145,2],[78,7,145,3],[79,6,145,3],[79,22,137,2,"setIsOnline"],[79,33,137,13,"setIsOnline"],[79,34,137,13,"_x2"],[79,37,137,13],[80,8,137,13],[80,15,137,13,"_ref2"],[80,20,137,13],[80,21,137,13,"apply"],[80,26,137,13],[80,33,137,13,"arguments"],[80,42,137,13],[81,6,137,13],[82,4,137,13],[82,7,145,3],[83,4,146,2,"setActiveWork"],[83,17,146,15],[83,19,146,18,"work"],[83,23,146,22],[83,27,146,27,"set"],[83,30,146,30],[83,31,146,31],[84,6,146,33,"activeWork"],[84,16,146,43],[84,18,146,45,"work"],[85,4,146,50],[85,5,146,51],[85,6,146,52],[86,4,147,2,"addActiveWork"],[86,17,147,15],[86,19,147,18,"work"],[86,23,147,22],[86,27,147,27,"set"],[86,30,147,30],[86,31,147,32,"state"],[86,36,147,37],[86,41,147,43],[87,6,147,45,"activeWork"],[87,16,147,55],[87,18,147,57],[87,19,147,58],[87,22,147,61,"state"],[87,27,147,66],[87,28,147,67,"activeWork"],[87,38,147,77],[87,40,147,79,"work"],[87,44,147,83],[88,4,147,85],[88,5,147,86],[88,6,147,87],[88,7,147,88],[89,4,148,2,"removeActiveWork"],[89,20,148,18],[89,22,148,21,"id"],[89,24,148,23],[89,28,148,28,"set"],[89,31,148,31],[89,32,148,33,"state"],[89,37,148,38],[89,42,148,44],[90,6,148,46,"activeWork"],[90,16,148,56],[90,18,148,58,"state"],[90,23,148,63],[90,24,148,64,"activeWork"],[90,34,148,74],[90,35,148,75,"filter"],[90,41,148,81],[90,42,148,82,"w"],[90,43,148,83],[90,47,148,87,"w"],[90,48,148,88],[90,49,148,89,"id"],[90,51,148,91],[90,56,148,96,"id"],[90,58,148,98],[91,4,148,100],[91,5,148,101],[91,6,148,102],[91,7,148,103],[92,4,150,2],[93,4,151,2,"setCurrentLocation"],[93,22,151,20],[93,24,151,23,"location"],[93,32,151,31],[93,36,151,36,"set"],[93,39,151,39],[93,40,151,40],[94,6,151,42,"currentLocation"],[94,21,151,57],[94,23,151,59,"location"],[95,4,151,68],[95,5,151,69],[95,6,151,70],[96,4,152,2,"setLocationPermissionGranted"],[96,32,152,30],[96,34,152,33,"granted"],[96,41,152,40],[96,45,152,45,"set"],[96,48,152,48],[96,49,152,49],[97,6,152,51,"locationPermissionGranted"],[97,31,152,76],[97,33,152,78,"granted"],[98,4,152,86],[98,5,152,87],[98,6,152,88],[99,4,153,2,"setIsTrackingLocation"],[99,25,153,23],[99,27,153,26,"tracking"],[99,35,153,34],[99,39,153,39,"set"],[99,42,153,42],[99,43,153,43],[100,6,153,45,"isTrackingLocation"],[100,24,153,63],[100,26,153,65,"tracking"],[101,4,153,74],[101,5,153,75],[101,6,153,76],[102,4,155,2,"logout"],[102,10,155,8],[103,6,155,8],[103,10,155,8,"_ref3"],[103,15,155,8],[103,22,155,8,"_asyncToGenerator"],[103,39,155,8],[103,40,155,8,"default"],[103,47,155,8],[103,49,155,10],[103,62,155,22],[104,8,156,4],[104,14,156,10,"AsyncStorage"],[104,26,156,22],[104,27,156,22,"default"],[104,34,156,22],[104,35,156,23,"removeItem"],[104,45,156,33],[104,46,156,34],[104,61,156,49],[104,62,156,50],[105,8,157,4],[105,14,157,10,"AsyncStorage"],[105,26,157,22],[105,27,157,22,"default"],[105,34,157,22],[105,35,157,23,"removeItem"],[105,45,157,33],[105,46,157,34],[105,57,157,45],[105,58,157,46],[106,8,158,4,"set"],[106,11,158,7],[106,12,158,8],[107,10,159,6,"user"],[107,14,159,10],[107,16,159,12],[107,20,159,16],[108,10,160,6,"sessionToken"],[108,22,160,18],[108,24,160,20],[108,28,160,24],[109,10,161,6,"stats"],[109,15,161,11],[109,17,161,13],[109,21,161,17],[110,10,162,6,"isOnline"],[110,18,162,14],[110,20,162,16],[110,25,162,21],[111,10,163,6,"activeWork"],[111,20,163,16],[111,22,163,18],[111,24,163,20],[112,10,164,6,"isUserLoaded"],[112,22,164,18],[112,24,164,20],[112,29,164,25],[113,10,165,6,"currentLocation"],[113,25,165,21],[113,27,165,23],[113,31,165,27],[114,10,166,6,"isTrackingLocation"],[114,28,166,24],[114,30,166,26],[115,8,167,4],[115,9,167,5],[115,10,167,6],[116,6,168,2],[116,7,168,3],[117,6,168,3],[117,22,155,2,"logout"],[117,28,155,8,"logout"],[117,29,155,8],[118,8,155,8],[118,15,155,8,"_ref3"],[118,20,155,8],[118,21,155,8,"apply"],[118,26,155,8],[118,33,155,8,"arguments"],[118,42,155,8],[119,6,155,8],[120,4,155,8],[120,7,168,3],[121,4,170,2,"loadStoredAuth"],[121,18,170,16],[122,6,170,16],[122,10,170,16,"_ref4"],[122,15,170,16],[122,22,170,16,"_asyncToGenerator"],[122,39,170,16],[122,40,170,16,"default"],[122,47,170,16],[122,49,170,18],[122,62,170,30],[123,8,171,4],[123,12,171,8],[124,10,172,6],[124,14,172,12,"token"],[124,19,172,17],[124,28,172,26,"AsyncStorage"],[124,40,172,38],[124,41,172,38,"default"],[124,48,172,38],[124,49,172,39,"getItem"],[124,56,172,46],[124,57,172,47],[124,72,172,62],[124,73,172,63],[125,10,173,6],[125,14,173,12,"onlineState"],[125,25,173,23],[125,34,173,32,"AsyncStorage"],[125,46,173,44],[125,47,173,44,"default"],[125,54,173,44],[125,55,173,45,"getItem"],[125,62,173,52],[125,63,173,53],[125,74,173,64],[125,75,173,65],[126,10,175,6],[126,14,175,10,"token"],[126,19,175,15],[126,21,175,17],[127,12,176,8,"set"],[127,15,176,11],[127,16,176,12],[128,14,176,14,"sessionToken"],[128,26,176,26],[128,28,176,28,"token"],[129,12,176,34],[129,13,176,35],[129,14,176,36],[130,10,177,6],[132,10,179,6],[133,10,180,6],[133,14,180,10,"onlineState"],[133,25,180,21],[133,30,180,26],[133,34,180,30],[133,36,180,32],[134,12,181,8,"set"],[134,15,181,11],[134,16,181,12],[135,14,181,14,"isOnline"],[135,22,181,22],[135,24,181,24,"JSON"],[135,28,181,28],[135,29,181,29,"parse"],[135,34,181,34],[135,35,181,35,"onlineState"],[135,46,181,46],[136,12,181,48],[136,13,181,49],[136,14,181,50],[137,10,182,6],[138,8,183,4],[138,9,183,5],[138,10,183,6],[138,17,183,13,"error"],[138,22,183,18],[138,24,183,20],[139,10,184,6,"console"],[139,17,184,13],[139,18,184,14,"error"],[139,23,184,19],[139,24,184,20],[139,52,184,48],[139,54,184,50,"error"],[139,59,184,55],[139,60,184,56],[140,8,185,4],[140,9,185,5],[140,18,185,14],[141,10,186,6,"set"],[141,13,186,9],[141,14,186,10],[142,12,186,12,"isLoading"],[142,21,186,21],[142,23,186,23],[143,10,186,29],[143,11,186,30],[143,12,186,31],[144,8,187,4],[145,6,188,2],[145,7,188,3],[146,6,188,3],[146,22,170,2,"loadStoredAuth"],[146,36,170,16,"loadStoredAuth"],[146,37,170,16],[147,8,170,16],[147,15,170,16,"_ref4"],[147,20,170,16],[147,21,170,16,"apply"],[147,26,170,16],[147,33,170,16,"arguments"],[147,42,170,16],[148,6,170,16],[149,4,170,16],[150,2,189,0],[150,3,189,1],[150,4,189,2],[150,5,189,3],[151,0,189,4],[151,3]],"functionMap":{"names":["<global>","create$argument_0","setUser","setSessionToken","setIsLoading","setIsUserLoaded","setStats","setIsOnline","setActiveWork","addActiveWork","set$argument_0","removeActiveWork","state.activeWork.filter$argument_0","setCurrentLocation","setLocationPermissionGranted","setIsTrackingLocation","logout","loadStoredAuth"],"mappings":"AAA;8CC8G;WCc,2CD;mBEC;GFO;gBGC,wCH;mBIC,yCJ;YKC,yBL;eMC;GNQ;iBOC,mCP;iBQC,cC,wDD,CR;oBUC,YD,kDE,gBF,IC,CV;sBYG,gDZ;gCaC,wDb;yBcC,mDd;UeE;Gfa;kBgBE;GhBkB;EDC"},"hasCjsExports":false},"type":"js/module"}]}