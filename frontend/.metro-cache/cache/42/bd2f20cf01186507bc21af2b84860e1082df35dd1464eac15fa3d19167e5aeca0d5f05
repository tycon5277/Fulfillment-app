{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  // Location types\n\n  const useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    sessionToken: null,\n    isLoading: true,\n    isUserLoaded: false,\n    // Start as false\n    stats: null,\n    activeWork: [],\n    isOnline: false,\n    // Location state\n    currentLocation: null,\n    locationPermissionGranted: false,\n    isTrackingLocation: false,\n    setUser: user => set({\n      user,\n      isUserLoaded: true\n    }),\n    // Mark as loaded when user is set\n    setSessionToken: async token => {\n      if (token) {\n        await AsyncStorage.default.setItem('session_token', token);\n      } else {\n        await AsyncStorage.default.removeItem('session_token');\n      }\n      set({\n        sessionToken: token\n      });\n    },\n    setIsLoading: loading => set({\n      isLoading: loading\n    }),\n    setIsUserLoaded: loaded => set({\n      isUserLoaded: loaded\n    }),\n    setStats: stats => set({\n      stats\n    }),\n    setIsOnline: async online => {\n      // Persist online state to AsyncStorage\n      try {\n        await AsyncStorage.default.setItem('is_online', JSON.stringify(online));\n      } catch (error) {\n        console.error('Error saving online state:', error);\n      }\n      set({\n        isOnline: online\n      });\n    },\n    setActiveWork: work => set({\n      activeWork: work\n    }),\n    addActiveWork: work => set(state => ({\n      activeWork: [...state.activeWork, work]\n    })),\n    removeActiveWork: id => set(state => ({\n      activeWork: state.activeWork.filter(w => w.id !== id)\n    })),\n    // Location actions\n    setCurrentLocation: location => set({\n      currentLocation: location\n    }),\n    setLocationPermissionGranted: granted => set({\n      locationPermissionGranted: granted\n    }),\n    setIsTrackingLocation: tracking => set({\n      isTrackingLocation: tracking\n    }),\n    logout: async () => {\n      await AsyncStorage.default.removeItem('session_token');\n      await AsyncStorage.default.removeItem('is_online');\n      set({\n        user: null,\n        sessionToken: null,\n        stats: null,\n        isOnline: false,\n        activeWork: [],\n        isUserLoaded: false,\n        currentLocation: null,\n        isTrackingLocation: false\n      });\n    },\n    loadStoredAuth: async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('session_token');\n        const onlineState = await AsyncStorage.default.getItem('is_online');\n        if (token) {\n          set({\n            sessionToken: token\n          });\n        }\n\n        // Restore online state if saved\n        if (onlineState !== null) {\n          set({\n            isOnline: JSON.parse(onlineState)\n          });\n        }\n      } catch (error) {\n        console.error('Error loading stored auth:', error);\n      } finally {\n        set({\n          isLoading: false\n        });\n      }\n    }\n  }));\n});","lineCount":129,"map":[[12,2,111,0,"Object"],[12,8,111,0],[12,9,111,0,"defineProperty"],[12,23,111,0],[12,24,111,0,"exports"],[12,31,111,0],[13,4,111,0,"enumerable"],[13,14,111,0],[14,4,111,0,"get"],[14,7,111,0],[14,18,111,0,"get"],[14,19,111,0],[15,6,111,0],[15,13,111,0,"useAuthStore"],[15,25,111,0],[16,4,111,0],[17,2,111,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,6,0],[23,2,111,7],[23,8,111,13,"useAuthStore"],[23,20,111,25],[23,23,111,28],[23,27,111,28,"create"],[23,35,111,34],[23,36,111,34,"create"],[23,42,111,34],[23,44,111,46],[23,45,111,47,"set"],[23,48,111,50],[23,50,111,52,"get"],[23,53,111,55],[23,59,111,61],[24,4,112,2,"user"],[24,8,112,6],[24,10,112,8],[24,14,112,12],[25,4,113,2,"sessionToken"],[25,16,113,14],[25,18,113,16],[25,22,113,20],[26,4,114,2,"isLoading"],[26,13,114,11],[26,15,114,13],[26,19,114,17],[27,4,115,2,"isUserLoaded"],[27,16,115,14],[27,18,115,16],[27,23,115,21],[28,4,115,24],[29,4,116,2,"stats"],[29,9,116,7],[29,11,116,9],[29,15,116,13],[30,4,117,2,"activeWork"],[30,14,117,12],[30,16,117,14],[30,18,117,16],[31,4,118,2,"isOnline"],[31,12,118,10],[31,14,118,12],[31,19,118,17],[32,4,120,2],[33,4,121,2,"currentLocation"],[33,19,121,17],[33,21,121,19],[33,25,121,23],[34,4,122,2,"locationPermissionGranted"],[34,29,122,27],[34,31,122,29],[34,36,122,34],[35,4,123,2,"isTrackingLocation"],[35,22,123,20],[35,24,123,22],[35,29,123,27],[36,4,125,2,"setUser"],[36,11,125,9],[36,13,125,12,"user"],[36,17,125,16],[36,21,125,21,"set"],[36,24,125,24],[36,25,125,25],[37,6,125,27,"user"],[37,10,125,31],[38,6,125,33,"isUserLoaded"],[38,18,125,45],[38,20,125,47],[39,4,125,52],[39,5,125,53],[39,6,125,54],[40,4,125,57],[41,4,126,2,"setSessionToken"],[41,19,126,17],[41,21,126,19],[41,27,126,26,"token"],[41,32,126,31],[41,36,126,36],[42,6,127,4],[42,10,127,8,"token"],[42,15,127,13],[42,17,127,15],[43,8,128,6],[43,14,128,12,"AsyncStorage"],[43,26,128,24],[43,27,128,24,"default"],[43,34,128,24],[43,35,128,25,"setItem"],[43,42,128,32],[43,43,128,33],[43,58,128,48],[43,60,128,50,"token"],[43,65,128,55],[43,66,128,56],[44,6,129,4],[44,7,129,5],[44,13,129,11],[45,8,130,6],[45,14,130,12,"AsyncStorage"],[45,26,130,24],[45,27,130,24,"default"],[45,34,130,24],[45,35,130,25,"removeItem"],[45,45,130,35],[45,46,130,36],[45,61,130,51],[45,62,130,52],[46,6,131,4],[47,6,132,4,"set"],[47,9,132,7],[47,10,132,8],[48,8,132,10,"sessionToken"],[48,20,132,22],[48,22,132,24,"token"],[49,6,132,30],[49,7,132,31],[49,8,132,32],[50,4,133,2],[50,5,133,3],[51,4,134,2,"setIsLoading"],[51,16,134,14],[51,18,134,17,"loading"],[51,25,134,24],[51,29,134,29,"set"],[51,32,134,32],[51,33,134,33],[52,6,134,35,"isLoading"],[52,15,134,44],[52,17,134,46,"loading"],[53,4,134,54],[53,5,134,55],[53,6,134,56],[54,4,135,2,"setIsUserLoaded"],[54,19,135,17],[54,21,135,20,"loaded"],[54,27,135,26],[54,31,135,31,"set"],[54,34,135,34],[54,35,135,35],[55,6,135,37,"isUserLoaded"],[55,18,135,49],[55,20,135,51,"loaded"],[56,4,135,58],[56,5,135,59],[56,6,135,60],[57,4,136,2,"setStats"],[57,12,136,10],[57,14,136,13,"stats"],[57,19,136,18],[57,23,136,23,"set"],[57,26,136,26],[57,27,136,27],[58,6,136,29,"stats"],[59,4,136,35],[59,5,136,36],[59,6,136,37],[60,4,137,2,"setIsOnline"],[60,15,137,13],[60,17,137,15],[60,23,137,22,"online"],[60,29,137,28],[60,33,137,33],[61,6,138,4],[62,6,139,4],[62,10,139,8],[63,8,140,6],[63,14,140,12,"AsyncStorage"],[63,26,140,24],[63,27,140,24,"default"],[63,34,140,24],[63,35,140,25,"setItem"],[63,42,140,32],[63,43,140,33],[63,54,140,44],[63,56,140,46,"JSON"],[63,60,140,50],[63,61,140,51,"stringify"],[63,70,140,60],[63,71,140,61,"online"],[63,77,140,67],[63,78,140,68],[63,79,140,69],[64,6,141,4],[64,7,141,5],[64,8,141,6],[64,15,141,13,"error"],[64,20,141,18],[64,22,141,20],[65,8,142,6,"console"],[65,15,142,13],[65,16,142,14,"error"],[65,21,142,19],[65,22,142,20],[65,50,142,48],[65,52,142,50,"error"],[65,57,142,55],[65,58,142,56],[66,6,143,4],[67,6,144,4,"set"],[67,9,144,7],[67,10,144,8],[68,8,144,10,"isOnline"],[68,16,144,18],[68,18,144,20,"online"],[69,6,144,27],[69,7,144,28],[69,8,144,29],[70,4,145,2],[70,5,145,3],[71,4,146,2,"setActiveWork"],[71,17,146,15],[71,19,146,18,"work"],[71,23,146,22],[71,27,146,27,"set"],[71,30,146,30],[71,31,146,31],[72,6,146,33,"activeWork"],[72,16,146,43],[72,18,146,45,"work"],[73,4,146,50],[73,5,146,51],[73,6,146,52],[74,4,147,2,"addActiveWork"],[74,17,147,15],[74,19,147,18,"work"],[74,23,147,22],[74,27,147,27,"set"],[74,30,147,30],[74,31,147,32,"state"],[74,36,147,37],[74,41,147,43],[75,6,147,45,"activeWork"],[75,16,147,55],[75,18,147,57],[75,19,147,58],[75,22,147,61,"state"],[75,27,147,66],[75,28,147,67,"activeWork"],[75,38,147,77],[75,40,147,79,"work"],[75,44,147,83],[76,4,147,85],[76,5,147,86],[76,6,147,87],[76,7,147,88],[77,4,148,2,"removeActiveWork"],[77,20,148,18],[77,22,148,21,"id"],[77,24,148,23],[77,28,148,28,"set"],[77,31,148,31],[77,32,148,33,"state"],[77,37,148,38],[77,42,148,44],[78,6,148,46,"activeWork"],[78,16,148,56],[78,18,148,58,"state"],[78,23,148,63],[78,24,148,64,"activeWork"],[78,34,148,74],[78,35,148,75,"filter"],[78,41,148,81],[78,42,148,82,"w"],[78,43,148,83],[78,47,148,87,"w"],[78,48,148,88],[78,49,148,89,"id"],[78,51,148,91],[78,56,148,96,"id"],[78,58,148,98],[79,4,148,100],[79,5,148,101],[79,6,148,102],[79,7,148,103],[80,4,150,2],[81,4,151,2,"setCurrentLocation"],[81,22,151,20],[81,24,151,23,"location"],[81,32,151,31],[81,36,151,36,"set"],[81,39,151,39],[81,40,151,40],[82,6,151,42,"currentLocation"],[82,21,151,57],[82,23,151,59,"location"],[83,4,151,68],[83,5,151,69],[83,6,151,70],[84,4,152,2,"setLocationPermissionGranted"],[84,32,152,30],[84,34,152,33,"granted"],[84,41,152,40],[84,45,152,45,"set"],[84,48,152,48],[84,49,152,49],[85,6,152,51,"locationPermissionGranted"],[85,31,152,76],[85,33,152,78,"granted"],[86,4,152,86],[86,5,152,87],[86,6,152,88],[87,4,153,2,"setIsTrackingLocation"],[87,25,153,23],[87,27,153,26,"tracking"],[87,35,153,34],[87,39,153,39,"set"],[87,42,153,42],[87,43,153,43],[88,6,153,45,"isTrackingLocation"],[88,24,153,63],[88,26,153,65,"tracking"],[89,4,153,74],[89,5,153,75],[89,6,153,76],[90,4,155,2,"logout"],[90,10,155,8],[90,12,155,10],[90,18,155,10,"logout"],[90,19,155,10],[90,24,155,22],[91,6,156,4],[91,12,156,10,"AsyncStorage"],[91,24,156,22],[91,25,156,22,"default"],[91,32,156,22],[91,33,156,23,"removeItem"],[91,43,156,33],[91,44,156,34],[91,59,156,49],[91,60,156,50],[92,6,157,4],[92,12,157,10,"AsyncStorage"],[92,24,157,22],[92,25,157,22,"default"],[92,32,157,22],[92,33,157,23,"removeItem"],[92,43,157,33],[92,44,157,34],[92,55,157,45],[92,56,157,46],[93,6,158,4,"set"],[93,9,158,7],[93,10,158,8],[94,8,159,6,"user"],[94,12,159,10],[94,14,159,12],[94,18,159,16],[95,8,160,6,"sessionToken"],[95,20,160,18],[95,22,160,20],[95,26,160,24],[96,8,161,6,"stats"],[96,13,161,11],[96,15,161,13],[96,19,161,17],[97,8,162,6,"isOnline"],[97,16,162,14],[97,18,162,16],[97,23,162,21],[98,8,163,6,"activeWork"],[98,18,163,16],[98,20,163,18],[98,22,163,20],[99,8,164,6,"isUserLoaded"],[99,20,164,18],[99,22,164,20],[99,27,164,25],[100,8,165,6,"currentLocation"],[100,23,165,21],[100,25,165,23],[100,29,165,27],[101,8,166,6,"isTrackingLocation"],[101,26,166,24],[101,28,166,26],[102,6,167,4],[102,7,167,5],[102,8,167,6],[103,4,168,2],[103,5,168,3],[104,4,170,2,"loadStoredAuth"],[104,18,170,16],[104,20,170,18],[104,26,170,18,"loadStoredAuth"],[104,27,170,18],[104,32,170,30],[105,6,171,4],[105,10,171,8],[106,8,172,6],[106,14,172,12,"token"],[106,19,172,17],[106,22,172,20],[106,28,172,26,"AsyncStorage"],[106,40,172,38],[106,41,172,38,"default"],[106,48,172,38],[106,49,172,39,"getItem"],[106,56,172,46],[106,57,172,47],[106,72,172,62],[106,73,172,63],[107,8,173,6],[107,14,173,12,"onlineState"],[107,25,173,23],[107,28,173,26],[107,34,173,32,"AsyncStorage"],[107,46,173,44],[107,47,173,44,"default"],[107,54,173,44],[107,55,173,45,"getItem"],[107,62,173,52],[107,63,173,53],[107,74,173,64],[107,75,173,65],[108,8,175,6],[108,12,175,10,"token"],[108,17,175,15],[108,19,175,17],[109,10,176,8,"set"],[109,13,176,11],[109,14,176,12],[110,12,176,14,"sessionToken"],[110,24,176,26],[110,26,176,28,"token"],[111,10,176,34],[111,11,176,35],[111,12,176,36],[112,8,177,6],[114,8,179,6],[115,8,180,6],[115,12,180,10,"onlineState"],[115,23,180,21],[115,28,180,26],[115,32,180,30],[115,34,180,32],[116,10,181,8,"set"],[116,13,181,11],[116,14,181,12],[117,12,181,14,"isOnline"],[117,20,181,22],[117,22,181,24,"JSON"],[117,26,181,28],[117,27,181,29,"parse"],[117,32,181,34],[117,33,181,35,"onlineState"],[117,44,181,46],[118,10,181,48],[118,11,181,49],[118,12,181,50],[119,8,182,6],[120,6,183,4],[120,7,183,5],[120,8,183,6],[120,15,183,13,"error"],[120,20,183,18],[120,22,183,20],[121,8,184,6,"console"],[121,15,184,13],[121,16,184,14,"error"],[121,21,184,19],[121,22,184,20],[121,50,184,48],[121,52,184,50,"error"],[121,57,184,55],[121,58,184,56],[122,6,185,4],[122,7,185,5],[122,16,185,14],[123,8,186,6,"set"],[123,11,186,9],[123,12,186,10],[124,10,186,12,"isLoading"],[124,19,186,21],[124,21,186,23],[125,8,186,29],[125,9,186,30],[125,10,186,31],[126,6,187,4],[127,4,188,2],[128,2,189,0],[128,3,189,1],[128,4,189,2],[128,5,189,3],[129,0,189,4],[129,3]],"functionMap":{"names":["<global>","create$argument_0","setUser","setSessionToken","setIsLoading","setIsUserLoaded","setStats","setIsOnline","setActiveWork","addActiveWork","set$argument_0","removeActiveWork","state.activeWork.filter$argument_0","setCurrentLocation","setLocationPermissionGranted","setIsTrackingLocation","logout","loadStoredAuth"],"mappings":"AAA;8CC8G;WCc,2CD;mBEC;GFO;gBGC,wCH;mBIC,yCJ;YKC,yBL;eMC;GNQ;iBOC,mCP;iBQC,cC,wDD,CR;oBUC,YD,kDE,gBF,IC,CV;sBYG,gDZ;gCaC,wDb;yBcC,mDd;UeE;Gfa;kBgBE;GhBkB;EDC"},"hasCjsExports":false},"type":"js/module"}]}