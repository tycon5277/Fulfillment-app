{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":55,"index":55}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-location","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":56},"end":{"line":2,"column":42,"index":98}}],"key":"GNP7AGCKsBRUhlnTZ4lIPpbkT9E=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/AppState","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"JfCM6WRyn2619+pzBJhEHd1+SSw=","exportNames":["*"],"imports":1}},{"name":"../store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":166},"end":{"line":4,"column":54,"index":220}}],"key":"dKKzYqIQKYpDjB3XCyXC/s+wXSc=","exportNames":["*"],"imports":1}},{"name":"../api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":221},"end":{"line":5,"column":30,"index":251}}],"key":"41PldGLahI9T80Mn09nNHYqZZYw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useLocationTracking = useLocationTracking;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _expoLocation = require(_dependencyMap[1], \"expo-location\");\n  var Location = _interopNamespace(_expoLocation);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _reactNativeWebDistExportsAppState = require(_dependencyMap[3], \"react-native-web/dist/exports/AppState\");\n  var AppState = _interopDefault(_reactNativeWebDistExportsAppState);\n  var _store = require(_dependencyMap[4], \"../store\");\n  var _api = require(_dependencyMap[5], \"../api\");\n  var api = _interopNamespace(_api);\n  // Constants for tracking intervals\n  const ONLINE_TRACKING_INTERVAL = 5000; // 5 seconds when online (continuous)\n  const OFFLINE_TRACKING_INTERVAL = 5 * 60 * 1000; // 5 minutes when offline\n\n  // Location accuracy settings\n  const LOCATION_OPTIONS = {\n    accuracy: Location.Accuracy.High,\n    distanceInterval: 10,\n    // Update if moved 10 meters\n    timeInterval: ONLINE_TRACKING_INTERVAL\n  };\n  function useLocationTracking() {\n    const {\n      user,\n      isOnline,\n      sessionToken,\n      currentLocation,\n      locationPermissionGranted,\n      isTrackingLocation,\n      setCurrentLocation,\n      setLocationPermissionGranted,\n      setIsTrackingLocation\n    } = (0, _store.useAuthStore)();\n    const locationSubscription = (0, _react.useRef)(null);\n    const offlineIntervalRef = (0, _react.useRef)(null);\n    const appStateRef = (0, _react.useRef)(AppState.default.currentState);\n\n    // Request location permissions\n    const requestPermissions = (0, _react.useCallback)(async () => {\n      try {\n        console.log('ðŸ“ Requesting location permissions...');\n        const {\n          status: foregroundStatus\n        } = await Location.requestForegroundPermissionsAsync();\n        if (foregroundStatus !== 'granted') {\n          console.log('âŒ Foreground location permission denied');\n          setLocationPermissionGranted(false);\n          return false;\n        }\n\n        // Request background permissions for continuous tracking (optional, may not work on all devices)\n        if (Platform.default.OS !== 'web') {\n          const {\n            status: backgroundStatus\n          } = await Location.requestBackgroundPermissionsAsync();\n          console.log('ðŸ“ Background permission status:', backgroundStatus);\n        }\n        console.log('âœ… Location permissions granted');\n        setLocationPermissionGranted(true);\n        return true;\n      } catch (error) {\n        console.error('Error requesting location permissions:', error);\n        setLocationPermissionGranted(false);\n        return false;\n      }\n    }, [setLocationPermissionGranted]);\n\n    // Get current location once\n    const getCurrentLocation = (0, _react.useCallback)(async () => {\n      try {\n        if (!locationPermissionGranted) {\n          const granted = await requestPermissions();\n          if (!granted) return null;\n        }\n        console.log('ðŸ“ Getting current location...');\n        const location = await Location.getCurrentPositionAsync({\n          accuracy: Location.Accuracy.High\n        });\n        const locationData = {\n          latitude: location.coords.latitude,\n          longitude: location.coords.longitude,\n          accuracy: location.coords.accuracy || undefined,\n          altitude: location.coords.altitude || undefined,\n          heading: location.coords.heading || undefined,\n          speed: location.coords.speed || undefined,\n          timestamp: location.timestamp\n        };\n        console.log('ðŸ“ Current location:', locationData.latitude, locationData.longitude);\n        setCurrentLocation(locationData);\n        return locationData;\n      } catch (error) {\n        console.error('Error getting current location:', error);\n        return null;\n      }\n    }, [locationPermissionGranted, requestPermissions, setCurrentLocation]);\n\n    // Send location to backend\n    const syncLocationToBackend = (0, _react.useCallback)(async location => {\n      if (!sessionToken || !user?.user_id) return;\n      try {\n        console.log('ðŸ“¡ Syncing location to backend...');\n        await api.updateLocation({\n          latitude: location.latitude,\n          longitude: location.longitude,\n          accuracy: location.accuracy,\n          heading: location.heading,\n          speed: location.speed,\n          timestamp: location.timestamp,\n          is_online: isOnline\n        });\n        console.log('âœ… Location synced to backend');\n      } catch (error) {\n        console.error('Error syncing location to backend:', error);\n      }\n    }, [sessionToken, user?.user_id, isOnline]);\n\n    // Handle location update\n    const handleLocationUpdate = (0, _react.useCallback)(location => {\n      const locationData = {\n        latitude: location.coords.latitude,\n        longitude: location.coords.longitude,\n        accuracy: location.coords.accuracy || undefined,\n        altitude: location.coords.altitude || undefined,\n        heading: location.coords.heading || undefined,\n        speed: location.coords.speed || undefined,\n        timestamp: location.timestamp\n      };\n      console.log('ðŸ“ Location update:', locationData.latitude, locationData.longitude, isOnline ? '(ONLINE)' : '(OFFLINE)');\n      setCurrentLocation(locationData);\n      syncLocationToBackend(locationData);\n    }, [setCurrentLocation, syncLocationToBackend, isOnline]);\n\n    // Start continuous location tracking (when ONLINE)\n    const startContinuousTracking = (0, _react.useCallback)(async () => {\n      try {\n        if (!locationPermissionGranted) {\n          const granted = await requestPermissions();\n          if (!granted) return;\n        }\n\n        // Stop any existing tracking\n        if (locationSubscription.current) {\n          locationSubscription.current.remove();\n        }\n        console.log('ðŸŸ¢ Starting continuous location tracking (ONLINE mode)');\n        setIsTrackingLocation(true);\n\n        // Get initial location\n        await getCurrentLocation();\n\n        // Start watching location\n        locationSubscription.current = await Location.watchPositionAsync(LOCATION_OPTIONS, handleLocationUpdate);\n      } catch (error) {\n        console.error('Error starting continuous tracking:', error);\n        setIsTrackingLocation(false);\n      }\n    }, [locationPermissionGranted, requestPermissions, getCurrentLocation, handleLocationUpdate, setIsTrackingLocation]);\n\n    // Start periodic location tracking (when OFFLINE)\n    const startPeriodicTracking = (0, _react.useCallback)(async () => {\n      try {\n        if (!locationPermissionGranted) {\n          const granted = await requestPermissions();\n          if (!granted) return;\n        }\n\n        // Stop continuous tracking if active\n        if (locationSubscription.current) {\n          locationSubscription.current.remove();\n          locationSubscription.current = null;\n        }\n\n        // Clear any existing interval\n        if (offlineIntervalRef.current) {\n          clearInterval(offlineIntervalRef.current);\n        }\n        console.log('ðŸŸ¡ Starting periodic location tracking (OFFLINE mode - every 5 min)');\n        setIsTrackingLocation(true);\n\n        // Get initial location\n        const location = await getCurrentLocation();\n        if (location) {\n          syncLocationToBackend(location);\n        }\n\n        // Set up periodic updates\n        offlineIntervalRef.current = setInterval(async () => {\n          console.log('â° Periodic location update (5 min interval)');\n          const loc = await getCurrentLocation();\n          if (loc) {\n            syncLocationToBackend(loc);\n          }\n        }, OFFLINE_TRACKING_INTERVAL);\n      } catch (error) {\n        console.error('Error starting periodic tracking:', error);\n        setIsTrackingLocation(false);\n      }\n    }, [locationPermissionGranted, requestPermissions, getCurrentLocation, syncLocationToBackend, setIsTrackingLocation]);\n\n    // Stop all location tracking\n    const stopTracking = (0, _react.useCallback)(() => {\n      console.log('ðŸ”´ Stopping location tracking');\n      if (locationSubscription.current) {\n        locationSubscription.current.remove();\n        locationSubscription.current = null;\n      }\n      if (offlineIntervalRef.current) {\n        clearInterval(offlineIntervalRef.current);\n        offlineIntervalRef.current = null;\n      }\n      setIsTrackingLocation(false);\n    }, [setIsTrackingLocation]);\n\n    // Handle online/offline state changes\n    (0, _react.useEffect)(() => {\n      if (!user || !locationPermissionGranted) return;\n      if (isOnline) {\n        // User went ONLINE - start continuous tracking\n        startContinuousTracking();\n      } else {\n        // User went OFFLINE - switch to periodic tracking\n        startPeriodicTracking();\n      }\n      return () => {\n        // Cleanup handled by stopTracking\n      };\n    }, [isOnline, user, locationPermissionGranted]);\n\n    // Handle app state changes (foreground/background)\n    (0, _react.useEffect)(() => {\n      const handleAppStateChange = nextAppState => {\n        if (appStateRef.current.match(/inactive|background/) && nextAppState === 'active') {\n          // App came to foreground - refresh location\n          console.log('ðŸ“± App came to foreground - refreshing location');\n          if (isTrackingLocation) {\n            getCurrentLocation();\n          }\n        }\n        appStateRef.current = nextAppState;\n      };\n      const subscription = AppState.default.addEventListener('change', handleAppStateChange);\n      return () => {\n        subscription.remove();\n      };\n    }, [isTrackingLocation, getCurrentLocation]);\n\n    // Cleanup on unmount\n    (0, _react.useEffect)(() => {\n      return () => {\n        stopTracking();\n      };\n    }, [stopTracking]);\n    return {\n      currentLocation,\n      locationPermissionGranted,\n      isTrackingLocation,\n      requestPermissions,\n      getCurrentLocation,\n      startContinuousTracking,\n      startPeriodicTracking,\n      stopTracking\n    };\n  }\n});","lineCount":291,"map":[[27,2,18,0,"exports"],[27,9,18,0],[27,10,18,0,"useLocationTracking"],[27,29,18,0],[27,32,18,0,"useLocationTracking"],[27,51,18,0],[28,2,1,0],[28,6,1,0,"_react"],[28,12,1,0],[28,15,1,0,"require"],[28,22,1,0],[28,23,1,0,"_dependencyMap"],[28,37,1,0],[29,2,2,0],[29,6,2,0,"_expoLocation"],[29,19,2,0],[29,22,2,0,"require"],[29,29,2,0],[29,30,2,0,"_dependencyMap"],[29,44,2,0],[30,2,2,0],[30,6,2,0,"Location"],[30,14,2,0],[30,17,2,0,"_interopNamespace"],[30,34,2,0],[30,35,2,0,"_expoLocation"],[30,48,2,0],[31,2,2,42],[31,6,2,42,"_reactNativeWebDistExportsPlatform"],[31,40,2,42],[31,43,2,42,"require"],[31,50,2,42],[31,51,2,42,"_dependencyMap"],[31,65,2,42],[32,2,2,42],[32,6,2,42,"Platform"],[32,14,2,42],[32,17,2,42,"_interopDefault"],[32,32,2,42],[32,33,2,42,"_reactNativeWebDistExportsPlatform"],[32,67,2,42],[33,2,2,42],[33,6,2,42,"_reactNativeWebDistExportsAppState"],[33,40,2,42],[33,43,2,42,"require"],[33,50,2,42],[33,51,2,42,"_dependencyMap"],[33,65,2,42],[34,2,2,42],[34,6,2,42,"AppState"],[34,14,2,42],[34,17,2,42,"_interopDefault"],[34,32,2,42],[34,33,2,42,"_reactNativeWebDistExportsAppState"],[34,67,2,42],[35,2,4,0],[35,6,4,0,"_store"],[35,12,4,0],[35,15,4,0,"require"],[35,22,4,0],[35,23,4,0,"_dependencyMap"],[35,37,4,0],[36,2,5,0],[36,6,5,0,"_api"],[36,10,5,0],[36,13,5,0,"require"],[36,20,5,0],[36,21,5,0,"_dependencyMap"],[36,35,5,0],[37,2,5,0],[37,6,5,0,"api"],[37,9,5,0],[37,12,5,0,"_interopNamespace"],[37,29,5,0],[37,30,5,0,"_api"],[37,34,5,0],[38,2,7,0],[39,2,8,0],[39,8,8,6,"ONLINE_TRACKING_INTERVAL"],[39,32,8,30],[39,35,8,33],[39,39,8,37],[39,40,8,38],[39,41,8,39],[40,2,9,0],[40,8,9,6,"OFFLINE_TRACKING_INTERVAL"],[40,33,9,31],[40,36,9,34],[40,37,9,35],[40,40,9,38],[40,42,9,40],[40,45,9,43],[40,49,9,47],[40,50,9,48],[40,51,9,49],[42,2,11,0],[43,2,12,0],[43,8,12,6,"LOCATION_OPTIONS"],[43,24,12,48],[43,27,12,51],[44,4,13,2,"accuracy"],[44,12,13,10],[44,14,13,12,"Location"],[44,22,13,20],[44,23,13,21,"Accuracy"],[44,31,13,29],[44,32,13,30,"High"],[44,36,13,34],[45,4,14,2,"distanceInterval"],[45,20,14,18],[45,22,14,20],[45,24,14,22],[46,4,14,24],[47,4,15,2,"timeInterval"],[47,16,15,14],[47,18,15,16,"ONLINE_TRACKING_INTERVAL"],[48,2,16,0],[48,3,16,1],[49,2,18,7],[49,11,18,16,"useLocationTracking"],[49,30,18,35,"useLocationTracking"],[49,31,18,35],[49,33,18,38],[50,4,19,2],[50,10,19,8],[51,6,20,4,"user"],[51,10,20,8],[52,6,21,4,"isOnline"],[52,14,21,12],[53,6,22,4,"sessionToken"],[53,18,22,16],[54,6,23,4,"currentLocation"],[54,21,23,19],[55,6,24,4,"locationPermissionGranted"],[55,31,24,29],[56,6,25,4,"isTrackingLocation"],[56,24,25,22],[57,6,26,4,"setCurrentLocation"],[57,24,26,22],[58,6,27,4,"setLocationPermissionGranted"],[58,34,27,32],[59,6,28,4,"setIsTrackingLocation"],[60,4,29,2],[60,5,29,3],[60,8,29,6],[60,12,29,6,"useAuthStore"],[60,18,29,18],[60,19,29,18,"useAuthStore"],[60,31,29,18],[60,33,29,19],[60,34,29,20],[61,4,31,2],[61,10,31,8,"locationSubscription"],[61,30,31,28],[61,33,31,31],[61,37,31,31,"useRef"],[61,43,31,37],[61,44,31,37,"useRef"],[61,50,31,37],[61,52,31,76],[61,56,31,80],[61,57,31,81],[62,4,32,2],[62,10,32,8,"offlineIntervalRef"],[62,28,32,26],[62,31,32,29],[62,35,32,29,"useRef"],[62,41,32,35],[62,42,32,35,"useRef"],[62,48,32,35],[62,50,32,59],[62,54,32,63],[62,55,32,64],[63,4,33,2],[63,10,33,8,"appStateRef"],[63,21,33,19],[63,24,33,22],[63,28,33,22,"useRef"],[63,34,33,28],[63,35,33,28,"useRef"],[63,41,33,28],[63,43,33,45,"AppState"],[63,51,33,53],[63,52,33,53,"default"],[63,59,33,53],[63,60,33,54,"currentState"],[63,72,33,66],[63,73,33,67],[65,4,35,2],[66,4,36,2],[66,10,36,8,"requestPermissions"],[66,28,36,26],[66,31,36,29],[66,35,36,29,"useCallback"],[66,41,36,40],[66,42,36,40,"useCallback"],[66,53,36,40],[66,55,36,41],[66,67,36,71],[67,6,37,4],[67,10,37,8],[68,8,38,6,"console"],[68,15,38,13],[68,16,38,14,"log"],[68,19,38,17],[68,20,38,18],[68,59,38,57],[68,60,38,58],[69,8,40,6],[69,14,40,12],[70,10,40,14,"status"],[70,16,40,20],[70,18,40,22,"foregroundStatus"],[71,8,40,39],[71,9,40,40],[71,12,40,43],[71,18,40,49,"Location"],[71,26,40,57],[71,27,40,58,"requestForegroundPermissionsAsync"],[71,60,40,91],[71,61,40,92],[71,62,40,93],[72,8,42,6],[72,12,42,10,"foregroundStatus"],[72,28,42,26],[72,33,42,31],[72,42,42,40],[72,44,42,42],[73,10,43,8,"console"],[73,17,43,15],[73,18,43,16,"log"],[73,21,43,19],[73,22,43,20],[73,63,43,61],[73,64,43,62],[74,10,44,8,"setLocationPermissionGranted"],[74,38,44,36],[74,39,44,37],[74,44,44,42],[74,45,44,43],[75,10,45,8],[75,17,45,15],[75,22,45,20],[76,8,46,6],[78,8,48,6],[79,8,49,6],[79,12,49,10,"Platform"],[79,20,49,18],[79,21,49,18,"default"],[79,28,49,18],[79,29,49,19,"OS"],[79,31,49,21],[79,36,49,26],[79,41,49,31],[79,43,49,33],[80,10,50,8],[80,16,50,14],[81,12,50,16,"status"],[81,18,50,22],[81,20,50,24,"backgroundStatus"],[82,10,50,41],[82,11,50,42],[82,14,50,45],[82,20,50,51,"Location"],[82,28,50,59],[82,29,50,60,"requestBackgroundPermissionsAsync"],[82,62,50,93],[82,63,50,94],[82,64,50,95],[83,10,51,8,"console"],[83,17,51,15],[83,18,51,16,"log"],[83,21,51,19],[83,22,51,20],[83,56,51,54],[83,58,51,56,"backgroundStatus"],[83,74,51,72],[83,75,51,73],[84,8,52,6],[85,8,54,6,"console"],[85,15,54,13],[85,16,54,14,"log"],[85,19,54,17],[85,20,54,18],[85,52,54,50],[85,53,54,51],[86,8,55,6,"setLocationPermissionGranted"],[86,36,55,34],[86,37,55,35],[86,41,55,39],[86,42,55,40],[87,8,56,6],[87,15,56,13],[87,19,56,17],[88,6,57,4],[88,7,57,5],[88,8,57,6],[88,15,57,13,"error"],[88,20,57,18],[88,22,57,20],[89,8,58,6,"console"],[89,15,58,13],[89,16,58,14,"error"],[89,21,58,19],[89,22,58,20],[89,62,58,60],[89,64,58,62,"error"],[89,69,58,67],[89,70,58,68],[90,8,59,6,"setLocationPermissionGranted"],[90,36,59,34],[90,37,59,35],[90,42,59,40],[90,43,59,41],[91,8,60,6],[91,15,60,13],[91,20,60,18],[92,6,61,4],[93,4,62,2],[93,5,62,3],[93,7,62,5],[93,8,62,6,"setLocationPermissionGranted"],[93,36,62,34],[93,37,62,35],[93,38,62,36],[95,4,64,2],[96,4,65,2],[96,10,65,8,"getCurrentLocation"],[96,28,65,26],[96,31,65,29],[96,35,65,29,"useCallback"],[96,41,65,40],[96,42,65,40,"useCallback"],[96,53,65,40],[96,55,65,41],[96,67,65,83],[97,6,66,4],[97,10,66,8],[98,8,67,6],[98,12,67,10],[98,13,67,11,"locationPermissionGranted"],[98,38,67,36],[98,40,67,38],[99,10,68,8],[99,16,68,14,"granted"],[99,23,68,21],[99,26,68,24],[99,32,68,30,"requestPermissions"],[99,50,68,48],[99,51,68,49],[99,52,68,50],[100,10,69,8],[100,14,69,12],[100,15,69,13,"granted"],[100,22,69,20],[100,24,69,22],[100,31,69,29],[100,35,69,33],[101,8,70,6],[102,8,72,6,"console"],[102,15,72,13],[102,16,72,14,"log"],[102,19,72,17],[102,20,72,18],[102,52,72,50],[102,53,72,51],[103,8,73,6],[103,14,73,12,"location"],[103,22,73,20],[103,25,73,23],[103,31,73,29,"Location"],[103,39,73,37],[103,40,73,38,"getCurrentPositionAsync"],[103,63,73,61],[103,64,73,62],[104,10,74,8,"accuracy"],[104,18,74,16],[104,20,74,18,"Location"],[104,28,74,26],[104,29,74,27,"Accuracy"],[104,37,74,35],[104,38,74,36,"High"],[105,8,75,6],[105,9,75,7],[105,10,75,8],[106,8,77,6],[106,14,77,12,"locationData"],[106,26,77,38],[106,29,77,41],[107,10,78,8,"latitude"],[107,18,78,16],[107,20,78,18,"location"],[107,28,78,26],[107,29,78,27,"coords"],[107,35,78,33],[107,36,78,34,"latitude"],[107,44,78,42],[108,10,79,8,"longitude"],[108,19,79,17],[108,21,79,19,"location"],[108,29,79,27],[108,30,79,28,"coords"],[108,36,79,34],[108,37,79,35,"longitude"],[108,46,79,44],[109,10,80,8,"accuracy"],[109,18,80,16],[109,20,80,18,"location"],[109,28,80,26],[109,29,80,27,"coords"],[109,35,80,33],[109,36,80,34,"accuracy"],[109,44,80,42],[109,48,80,46,"undefined"],[109,57,80,55],[110,10,81,8,"altitude"],[110,18,81,16],[110,20,81,18,"location"],[110,28,81,26],[110,29,81,27,"coords"],[110,35,81,33],[110,36,81,34,"altitude"],[110,44,81,42],[110,48,81,46,"undefined"],[110,57,81,55],[111,10,82,8,"heading"],[111,17,82,15],[111,19,82,17,"location"],[111,27,82,25],[111,28,82,26,"coords"],[111,34,82,32],[111,35,82,33,"heading"],[111,42,82,40],[111,46,82,44,"undefined"],[111,55,82,53],[112,10,83,8,"speed"],[112,15,83,13],[112,17,83,15,"location"],[112,25,83,23],[112,26,83,24,"coords"],[112,32,83,30],[112,33,83,31,"speed"],[112,38,83,36],[112,42,83,40,"undefined"],[112,51,83,49],[113,10,84,8,"timestamp"],[113,19,84,17],[113,21,84,19,"location"],[113,29,84,27],[113,30,84,28,"timestamp"],[114,8,85,6],[114,9,85,7],[115,8,87,6,"console"],[115,15,87,13],[115,16,87,14,"log"],[115,19,87,17],[115,20,87,18],[115,42,87,40],[115,44,87,42,"locationData"],[115,56,87,54],[115,57,87,55,"latitude"],[115,65,87,63],[115,67,87,65,"locationData"],[115,79,87,77],[115,80,87,78,"longitude"],[115,89,87,87],[115,90,87,88],[116,8,88,6,"setCurrentLocation"],[116,26,88,24],[116,27,88,25,"locationData"],[116,39,88,37],[116,40,88,38],[117,8,90,6],[117,15,90,13,"locationData"],[117,27,90,25],[118,6,91,4],[118,7,91,5],[118,8,91,6],[118,15,91,13,"error"],[118,20,91,18],[118,22,91,20],[119,8,92,6,"console"],[119,15,92,13],[119,16,92,14,"error"],[119,21,92,19],[119,22,92,20],[119,55,92,53],[119,57,92,55,"error"],[119,62,92,60],[119,63,92,61],[120,8,93,6],[120,15,93,13],[120,19,93,17],[121,6,94,4],[122,4,95,2],[122,5,95,3],[122,7,95,5],[122,8,95,6,"locationPermissionGranted"],[122,33,95,31],[122,35,95,33,"requestPermissions"],[122,53,95,51],[122,55,95,53,"setCurrentLocation"],[122,73,95,71],[122,74,95,72],[122,75,95,73],[124,4,97,2],[125,4,98,2],[125,10,98,8,"syncLocationToBackend"],[125,31,98,29],[125,34,98,32],[125,38,98,32,"useCallback"],[125,44,98,43],[125,45,98,43,"useCallback"],[125,56,98,43],[125,58,98,44],[125,64,98,51,"location"],[125,72,98,73],[125,76,98,78],[126,6,99,4],[126,10,99,8],[126,11,99,9,"sessionToken"],[126,23,99,21],[126,27,99,25],[126,28,99,26,"user"],[126,32,99,30],[126,34,99,32,"user_id"],[126,41,99,39],[126,43,99,41],[127,6,101,4],[127,10,101,8],[128,8,102,6,"console"],[128,15,102,13],[128,16,102,14,"log"],[128,19,102,17],[128,20,102,18],[128,55,102,53],[128,56,102,54],[129,8,103,6],[129,14,103,12,"api"],[129,17,103,15],[129,18,103,16,"updateLocation"],[129,32,103,30],[129,33,103,31],[130,10,104,8,"latitude"],[130,18,104,16],[130,20,104,18,"location"],[130,28,104,26],[130,29,104,27,"latitude"],[130,37,104,35],[131,10,105,8,"longitude"],[131,19,105,17],[131,21,105,19,"location"],[131,29,105,27],[131,30,105,28,"longitude"],[131,39,105,37],[132,10,106,8,"accuracy"],[132,18,106,16],[132,20,106,18,"location"],[132,28,106,26],[132,29,106,27,"accuracy"],[132,37,106,35],[133,10,107,8,"heading"],[133,17,107,15],[133,19,107,17,"location"],[133,27,107,25],[133,28,107,26,"heading"],[133,35,107,33],[134,10,108,8,"speed"],[134,15,108,13],[134,17,108,15,"location"],[134,25,108,23],[134,26,108,24,"speed"],[134,31,108,29],[135,10,109,8,"timestamp"],[135,19,109,17],[135,21,109,19,"location"],[135,29,109,27],[135,30,109,28,"timestamp"],[135,39,109,37],[136,10,110,8,"is_online"],[136,19,110,17],[136,21,110,19,"isOnline"],[137,8,111,6],[137,9,111,7],[137,10,111,8],[138,8,112,6,"console"],[138,15,112,13],[138,16,112,14,"log"],[138,19,112,17],[138,20,112,18],[138,50,112,48],[138,51,112,49],[139,6,113,4],[139,7,113,5],[139,8,113,6],[139,15,113,13,"error"],[139,20,113,18],[139,22,113,20],[140,8,114,6,"console"],[140,15,114,13],[140,16,114,14,"error"],[140,21,114,19],[140,22,114,20],[140,58,114,56],[140,60,114,58,"error"],[140,65,114,63],[140,66,114,64],[141,6,115,4],[142,4,116,2],[142,5,116,3],[142,7,116,5],[142,8,116,6,"sessionToken"],[142,20,116,18],[142,22,116,20,"user"],[142,26,116,24],[142,28,116,26,"user_id"],[142,35,116,33],[142,37,116,35,"isOnline"],[142,45,116,43],[142,46,116,44],[142,47,116,45],[144,4,118,2],[145,4,119,2],[145,10,119,8,"handleLocationUpdate"],[145,30,119,28],[145,33,119,31],[145,37,119,31,"useCallback"],[145,43,119,42],[145,44,119,42,"useCallback"],[145,55,119,42],[145,57,119,44,"location"],[145,65,119,77],[145,69,119,82],[146,6,120,4],[146,12,120,10,"locationData"],[146,24,120,36],[146,27,120,39],[147,8,121,6,"latitude"],[147,16,121,14],[147,18,121,16,"location"],[147,26,121,24],[147,27,121,25,"coords"],[147,33,121,31],[147,34,121,32,"latitude"],[147,42,121,40],[148,8,122,6,"longitude"],[148,17,122,15],[148,19,122,17,"location"],[148,27,122,25],[148,28,122,26,"coords"],[148,34,122,32],[148,35,122,33,"longitude"],[148,44,122,42],[149,8,123,6,"accuracy"],[149,16,123,14],[149,18,123,16,"location"],[149,26,123,24],[149,27,123,25,"coords"],[149,33,123,31],[149,34,123,32,"accuracy"],[149,42,123,40],[149,46,123,44,"undefined"],[149,55,123,53],[150,8,124,6,"altitude"],[150,16,124,14],[150,18,124,16,"location"],[150,26,124,24],[150,27,124,25,"coords"],[150,33,124,31],[150,34,124,32,"altitude"],[150,42,124,40],[150,46,124,44,"undefined"],[150,55,124,53],[151,8,125,6,"heading"],[151,15,125,13],[151,17,125,15,"location"],[151,25,125,23],[151,26,125,24,"coords"],[151,32,125,30],[151,33,125,31,"heading"],[151,40,125,38],[151,44,125,42,"undefined"],[151,53,125,51],[152,8,126,6,"speed"],[152,13,126,11],[152,15,126,13,"location"],[152,23,126,21],[152,24,126,22,"coords"],[152,30,126,28],[152,31,126,29,"speed"],[152,36,126,34],[152,40,126,38,"undefined"],[152,49,126,47],[153,8,127,6,"timestamp"],[153,17,127,15],[153,19,127,17,"location"],[153,27,127,25],[153,28,127,26,"timestamp"],[154,6,128,4],[154,7,128,5],[155,6,130,4,"console"],[155,13,130,11],[155,14,130,12,"log"],[155,17,130,15],[155,18,130,16],[155,39,130,37],[155,41,130,39,"locationData"],[155,53,130,51],[155,54,130,52,"latitude"],[155,62,130,60],[155,64,130,62,"locationData"],[155,76,130,74],[155,77,130,75,"longitude"],[155,86,130,84],[155,88,130,86,"isOnline"],[155,96,130,94],[155,99,130,97],[155,109,130,107],[155,112,130,110],[155,123,130,121],[155,124,130,122],[156,6,131,4,"setCurrentLocation"],[156,24,131,22],[156,25,131,23,"locationData"],[156,37,131,35],[156,38,131,36],[157,6,132,4,"syncLocationToBackend"],[157,27,132,25],[157,28,132,26,"locationData"],[157,40,132,38],[157,41,132,39],[158,4,133,2],[158,5,133,3],[158,7,133,5],[158,8,133,6,"setCurrentLocation"],[158,26,133,24],[158,28,133,26,"syncLocationToBackend"],[158,49,133,47],[158,51,133,49,"isOnline"],[158,59,133,57],[158,60,133,58],[158,61,133,59],[160,4,135,2],[161,4,136,2],[161,10,136,8,"startContinuousTracking"],[161,33,136,31],[161,36,136,34],[161,40,136,34,"useCallback"],[161,46,136,45],[161,47,136,45,"useCallback"],[161,58,136,45],[161,60,136,46],[161,72,136,58],[162,6,137,4],[162,10,137,8],[163,8,138,6],[163,12,138,10],[163,13,138,11,"locationPermissionGranted"],[163,38,138,36],[163,40,138,38],[164,10,139,8],[164,16,139,14,"granted"],[164,23,139,21],[164,26,139,24],[164,32,139,30,"requestPermissions"],[164,50,139,48],[164,51,139,49],[164,52,139,50],[165,10,140,8],[165,14,140,12],[165,15,140,13,"granted"],[165,22,140,20],[165,24,140,22],[166,8,141,6],[168,8,143,6],[169,8,144,6],[169,12,144,10,"locationSubscription"],[169,32,144,30],[169,33,144,31,"current"],[169,40,144,38],[169,42,144,40],[170,10,145,8,"locationSubscription"],[170,30,145,28],[170,31,145,29,"current"],[170,38,145,36],[170,39,145,37,"remove"],[170,45,145,43],[170,46,145,44],[170,47,145,45],[171,8,146,6],[172,8,148,6,"console"],[172,15,148,13],[172,16,148,14,"log"],[172,19,148,17],[172,20,148,18],[172,76,148,74],[172,77,148,75],[173,8,149,6,"setIsTrackingLocation"],[173,29,149,27],[173,30,149,28],[173,34,149,32],[173,35,149,33],[175,8,151,6],[176,8,152,6],[176,14,152,12,"getCurrentLocation"],[176,32,152,30],[176,33,152,31],[176,34,152,32],[178,8,154,6],[179,8,155,6,"locationSubscription"],[179,28,155,26],[179,29,155,27,"current"],[179,36,155,34],[179,39,155,37],[179,45,155,43,"Location"],[179,53,155,51],[179,54,155,52,"watchPositionAsync"],[179,72,155,70],[179,73,156,8,"LOCATION_OPTIONS"],[179,89,156,24],[179,91,157,8,"handleLocationUpdate"],[179,111,158,6],[179,112,158,7],[180,6,159,4],[180,7,159,5],[180,8,159,6],[180,15,159,13,"error"],[180,20,159,18],[180,22,159,20],[181,8,160,6,"console"],[181,15,160,13],[181,16,160,14,"error"],[181,21,160,19],[181,22,160,20],[181,59,160,57],[181,61,160,59,"error"],[181,66,160,64],[181,67,160,65],[182,8,161,6,"setIsTrackingLocation"],[182,29,161,27],[182,30,161,28],[182,35,161,33],[182,36,161,34],[183,6,162,4],[184,4,163,2],[184,5,163,3],[184,7,163,5],[184,8,163,6,"locationPermissionGranted"],[184,33,163,31],[184,35,163,33,"requestPermissions"],[184,53,163,51],[184,55,163,53,"getCurrentLocation"],[184,73,163,71],[184,75,163,73,"handleLocationUpdate"],[184,95,163,93],[184,97,163,95,"setIsTrackingLocation"],[184,118,163,116],[184,119,163,117],[184,120,163,118],[186,4,165,2],[187,4,166,2],[187,10,166,8,"startPeriodicTracking"],[187,31,166,29],[187,34,166,32],[187,38,166,32,"useCallback"],[187,44,166,43],[187,45,166,43,"useCallback"],[187,56,166,43],[187,58,166,44],[187,70,166,56],[188,6,167,4],[188,10,167,8],[189,8,168,6],[189,12,168,10],[189,13,168,11,"locationPermissionGranted"],[189,38,168,36],[189,40,168,38],[190,10,169,8],[190,16,169,14,"granted"],[190,23,169,21],[190,26,169,24],[190,32,169,30,"requestPermissions"],[190,50,169,48],[190,51,169,49],[190,52,169,50],[191,10,170,8],[191,14,170,12],[191,15,170,13,"granted"],[191,22,170,20],[191,24,170,22],[192,8,171,6],[194,8,173,6],[195,8,174,6],[195,12,174,10,"locationSubscription"],[195,32,174,30],[195,33,174,31,"current"],[195,40,174,38],[195,42,174,40],[196,10,175,8,"locationSubscription"],[196,30,175,28],[196,31,175,29,"current"],[196,38,175,36],[196,39,175,37,"remove"],[196,45,175,43],[196,46,175,44],[196,47,175,45],[197,10,176,8,"locationSubscription"],[197,30,176,28],[197,31,176,29,"current"],[197,38,176,36],[197,41,176,39],[197,45,176,43],[198,8,177,6],[200,8,179,6],[201,8,180,6],[201,12,180,10,"offlineIntervalRef"],[201,30,180,28],[201,31,180,29,"current"],[201,38,180,36],[201,40,180,38],[202,10,181,8,"clearInterval"],[202,23,181,21],[202,24,181,22,"offlineIntervalRef"],[202,42,181,40],[202,43,181,41,"current"],[202,50,181,48],[202,51,181,49],[203,8,182,6],[204,8,184,6,"console"],[204,15,184,13],[204,16,184,14,"log"],[204,19,184,17],[204,20,184,18],[204,89,184,87],[204,90,184,88],[205,8,185,6,"setIsTrackingLocation"],[205,29,185,27],[205,30,185,28],[205,34,185,32],[205,35,185,33],[207,8,187,6],[208,8,188,6],[208,14,188,12,"location"],[208,22,188,20],[208,25,188,23],[208,31,188,29,"getCurrentLocation"],[208,49,188,47],[208,50,188,48],[208,51,188,49],[209,8,189,6],[209,12,189,10,"location"],[209,20,189,18],[209,22,189,20],[210,10,190,8,"syncLocationToBackend"],[210,31,190,29],[210,32,190,30,"location"],[210,40,190,38],[210,41,190,39],[211,8,191,6],[213,8,193,6],[214,8,194,6,"offlineIntervalRef"],[214,26,194,24],[214,27,194,25,"current"],[214,34,194,32],[214,37,194,35,"setInterval"],[214,48,194,46],[214,49,194,47],[214,61,194,59],[215,10,195,8,"console"],[215,17,195,15],[215,18,195,16,"log"],[215,21,195,19],[215,22,195,20],[215,67,195,65],[215,68,195,66],[216,10,196,8],[216,16,196,14,"loc"],[216,19,196,17],[216,22,196,20],[216,28,196,26,"getCurrentLocation"],[216,46,196,44],[216,47,196,45],[216,48,196,46],[217,10,197,8],[217,14,197,12,"loc"],[217,17,197,15],[217,19,197,17],[218,12,198,10,"syncLocationToBackend"],[218,33,198,31],[218,34,198,32,"loc"],[218,37,198,35],[218,38,198,36],[219,10,199,8],[220,8,200,6],[220,9,200,7],[220,11,200,9,"OFFLINE_TRACKING_INTERVAL"],[220,36,200,34],[220,37,200,35],[221,6,201,4],[221,7,201,5],[221,8,201,6],[221,15,201,13,"error"],[221,20,201,18],[221,22,201,20],[222,8,202,6,"console"],[222,15,202,13],[222,16,202,14,"error"],[222,21,202,19],[222,22,202,20],[222,57,202,55],[222,59,202,57,"error"],[222,64,202,62],[222,65,202,63],[223,8,203,6,"setIsTrackingLocation"],[223,29,203,27],[223,30,203,28],[223,35,203,33],[223,36,203,34],[224,6,204,4],[225,4,205,2],[225,5,205,3],[225,7,205,5],[225,8,205,6,"locationPermissionGranted"],[225,33,205,31],[225,35,205,33,"requestPermissions"],[225,53,205,51],[225,55,205,53,"getCurrentLocation"],[225,73,205,71],[225,75,205,73,"syncLocationToBackend"],[225,96,205,94],[225,98,205,96,"setIsTrackingLocation"],[225,119,205,117],[225,120,205,118],[225,121,205,119],[227,4,207,2],[228,4,208,2],[228,10,208,8,"stopTracking"],[228,22,208,20],[228,25,208,23],[228,29,208,23,"useCallback"],[228,35,208,34],[228,36,208,34,"useCallback"],[228,47,208,34],[228,49,208,35],[228,55,208,41],[229,6,209,4,"console"],[229,13,209,11],[229,14,209,12,"log"],[229,17,209,15],[229,18,209,16],[229,49,209,47],[229,50,209,48],[230,6,211,4],[230,10,211,8,"locationSubscription"],[230,30,211,28],[230,31,211,29,"current"],[230,38,211,36],[230,40,211,38],[231,8,212,6,"locationSubscription"],[231,28,212,26],[231,29,212,27,"current"],[231,36,212,34],[231,37,212,35,"remove"],[231,43,212,41],[231,44,212,42],[231,45,212,43],[232,8,213,6,"locationSubscription"],[232,28,213,26],[232,29,213,27,"current"],[232,36,213,34],[232,39,213,37],[232,43,213,41],[233,6,214,4],[234,6,216,4],[234,10,216,8,"offlineIntervalRef"],[234,28,216,26],[234,29,216,27,"current"],[234,36,216,34],[234,38,216,36],[235,8,217,6,"clearInterval"],[235,21,217,19],[235,22,217,20,"offlineIntervalRef"],[235,40,217,38],[235,41,217,39,"current"],[235,48,217,46],[235,49,217,47],[236,8,218,6,"offlineIntervalRef"],[236,26,218,24],[236,27,218,25,"current"],[236,34,218,32],[236,37,218,35],[236,41,218,39],[237,6,219,4],[238,6,221,4,"setIsTrackingLocation"],[238,27,221,25],[238,28,221,26],[238,33,221,31],[238,34,221,32],[239,4,222,2],[239,5,222,3],[239,7,222,5],[239,8,222,6,"setIsTrackingLocation"],[239,29,222,27],[239,30,222,28],[239,31,222,29],[241,4,224,2],[242,4,225,2],[242,8,225,2,"useEffect"],[242,14,225,11],[242,15,225,11,"useEffect"],[242,24,225,11],[242,26,225,12],[242,32,225,18],[243,6,226,4],[243,10,226,8],[243,11,226,9,"user"],[243,15,226,13],[243,19,226,17],[243,20,226,18,"locationPermissionGranted"],[243,45,226,43],[243,47,226,45],[244,6,228,4],[244,10,228,8,"isOnline"],[244,18,228,16],[244,20,228,18],[245,8,229,6],[246,8,230,6,"startContinuousTracking"],[246,31,230,29],[246,32,230,30],[246,33,230,31],[247,6,231,4],[247,7,231,5],[247,13,231,11],[248,8,232,6],[249,8,233,6,"startPeriodicTracking"],[249,29,233,27],[249,30,233,28],[249,31,233,29],[250,6,234,4],[251,6,236,4],[251,13,236,11],[251,19,236,17],[252,8,237,6],[253,6,237,6],[253,7,238,5],[254,4,239,2],[254,5,239,3],[254,7,239,5],[254,8,239,6,"isOnline"],[254,16,239,14],[254,18,239,16,"user"],[254,22,239,20],[254,24,239,22,"locationPermissionGranted"],[254,49,239,47],[254,50,239,48],[254,51,239,49],[256,4,241,2],[257,4,242,2],[257,8,242,2,"useEffect"],[257,14,242,11],[257,15,242,11,"useEffect"],[257,24,242,11],[257,26,242,12],[257,32,242,18],[258,6,243,4],[258,12,243,10,"handleAppStateChange"],[258,32,243,30],[258,35,243,34,"nextAppState"],[258,47,243,62],[258,51,243,67],[259,8,244,6],[259,12,244,10,"appStateRef"],[259,23,244,21],[259,24,244,22,"current"],[259,31,244,29],[259,32,244,30,"match"],[259,37,244,35],[259,38,244,36],[259,59,244,57],[259,60,244,58],[259,64,244,62,"nextAppState"],[259,76,244,74],[259,81,244,79],[259,89,244,87],[259,91,244,89],[260,10,245,8],[261,10,246,8,"console"],[261,17,246,15],[261,18,246,16,"log"],[261,21,246,19],[261,22,246,20],[261,71,246,69],[261,72,246,70],[262,10,247,8],[262,14,247,12,"isTrackingLocation"],[262,32,247,30],[262,34,247,32],[263,12,248,10,"getCurrentLocation"],[263,30,248,28],[263,31,248,29],[263,32,248,30],[264,10,249,8],[265,8,250,6],[266,8,251,6,"appStateRef"],[266,19,251,17],[266,20,251,18,"current"],[266,27,251,25],[266,30,251,28,"nextAppState"],[266,42,251,40],[267,6,252,4],[267,7,252,5],[268,6,254,4],[268,12,254,10,"subscription"],[268,24,254,22],[268,27,254,25,"AppState"],[268,35,254,33],[268,36,254,33,"default"],[268,43,254,33],[268,44,254,34,"addEventListener"],[268,60,254,50],[268,61,254,51],[268,69,254,59],[268,71,254,61,"handleAppStateChange"],[268,91,254,81],[268,92,254,82],[269,6,256,4],[269,13,256,11],[269,19,256,17],[270,8,257,6,"subscription"],[270,20,257,18],[270,21,257,19,"remove"],[270,27,257,25],[270,28,257,26],[270,29,257,27],[271,6,258,4],[271,7,258,5],[272,4,259,2],[272,5,259,3],[272,7,259,5],[272,8,259,6,"isTrackingLocation"],[272,26,259,24],[272,28,259,26,"getCurrentLocation"],[272,46,259,44],[272,47,259,45],[272,48,259,46],[274,4,261,2],[275,4,262,2],[275,8,262,2,"useEffect"],[275,14,262,11],[275,15,262,11,"useEffect"],[275,24,262,11],[275,26,262,12],[275,32,262,18],[276,6,263,4],[276,13,263,11],[276,19,263,17],[277,8,264,6,"stopTracking"],[277,20,264,18],[277,21,264,19],[277,22,264,20],[278,6,265,4],[278,7,265,5],[279,4,266,2],[279,5,266,3],[279,7,266,5],[279,8,266,6,"stopTracking"],[279,20,266,18],[279,21,266,19],[279,22,266,20],[280,4,268,2],[280,11,268,9],[281,6,269,4,"currentLocation"],[281,21,269,19],[282,6,270,4,"locationPermissionGranted"],[282,31,270,29],[283,6,271,4,"isTrackingLocation"],[283,24,271,22],[284,6,272,4,"requestPermissions"],[284,24,272,22],[285,6,273,4,"getCurrentLocation"],[285,24,273,22],[286,6,274,4,"startContinuousTracking"],[286,29,274,27],[287,6,275,4,"startPeriodicTracking"],[287,27,275,25],[288,6,276,4,"stopTracking"],[289,4,277,2],[289,5,277,3],[290,2,278,0],[291,0,278,1],[291,3]],"functionMap":{"names":["<global>","useLocationTracking","requestPermissions","getCurrentLocation","syncLocationToBackend","handleLocationUpdate","startContinuousTracking","startPeriodicTracking","setInterval$argument_0","stopTracking","useEffect$argument_0","<anonymous>","handleAppStateChange"],"mappings":"AAA;OCiB;yCCkB;GD0B;yCEG;GF8B;4CGG;GHkB;2CIG;GJc;8CKG;GL2B;4CMG;+CC4B;ODM;GNK;mCQG;GRc;YSG;WCW;KDE;GTC;YSG;iCEC;KFS;WCI;KDE;GTC;YSG;WCC;KDE;GTC;CDY"},"hasCjsExports":false},"type":"js/module"}]}