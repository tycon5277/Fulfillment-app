{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":51,"index":51}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/ActivityIndicator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"bSAkUkqZq0shBb5bU6kCYXi4ciA=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Text","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"JKIzsQ5YQ0gDj0MIyY0Q7F1zJtU=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":126},"end":{"line":3,"column":40,"index":166}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"../src/store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":167},"end":{"line":4,"column":44,"index":211}}],"key":"1dnSYy85BrQ8GvZyUKLmyTkvrWI=","exportNames":["*"],"imports":1}},{"name":"../src/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":212},"end":{"line":5,"column":34,"index":246}}],"key":"hItasGPnvPxlPtlTbtNshqLBPMw=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/index.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return Index;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[1], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsActivityIndicator = require(_dependencyMap[2], \"react-native-web/dist/exports/ActivityIndicator\");\n  var ActivityIndicator = _interopDefault(_reactNativeWebDistExportsActivityIndicator);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[3], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _reactNativeWebDistExportsText = require(_dependencyMap[4], \"react-native-web/dist/exports/Text\");\n  var Text = _interopDefault(_reactNativeWebDistExportsText);\n  var _expoRouter = require(_dependencyMap[5], \"expo-router\");\n  var _srcStore = require(_dependencyMap[6], \"../src/store\");\n  var _srcApi = require(_dependencyMap[7], \"../src/api\");\n  var api = _interopNamespace(_srcApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[8], \"react/jsx-dev-runtime\");\n  const COLORS = {\n    primary: '#7C3AED',\n    background: '#F8F9FA',\n    text: '#212529'\n  };\n  function Index() {\n    _s();\n    const router = (0, _expoRouter.useRouter)();\n    const {\n      sessionToken,\n      isLoading,\n      setUser,\n      loadStoredAuth\n    } = (0, _srcStore.useAuthStore)();\n    const [checking, setChecking] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      // First, load stored auth\n      loadStoredAuth();\n    }, []);\n    (0, _react.useEffect)(() => {\n      const checkAuth = async () => {\n        // Wait for auth store to finish loading\n        if (isLoading) return;\n\n        // Small delay to ensure navigation is ready\n        await new Promise(resolve => setTimeout(resolve, 500));\n        if (!sessionToken) {\n          console.log('No session token, redirecting to login');\n          router.replace('/(auth)/login');\n          return;\n        }\n        try {\n          console.log('Checking auth with token...');\n          const response = await api.getMe();\n          setUser(response.data);\n          if (!response.data.is_agent) {\n            console.log('User is not an agent, redirecting to register');\n            router.replace('/register');\n          } else {\n            console.log('User is an agent, redirecting to home');\n            router.replace('/(main)/home');\n          }\n        } catch (error) {\n          console.error('Auth check failed:', error);\n          router.replace('/(auth)/login');\n        } finally {\n          setChecking(false);\n        }\n      };\n      checkAuth();\n    }, [isLoading]);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n      style: styles.container,\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(ActivityIndicator.default, {\n        size: \"large\",\n        color: COLORS.primary\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(Text.default, {\n        style: styles.loadingText,\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }, this);\n  }\n  _s(Index, \"K8Cp3KDjP+Apai1sWIagQQ8Lkss=\", false, function () {\n    return [_expoRouter.useRouter, _srcStore.useAuthStore];\n  });\n  _c = Index;\n  const styles = StyleSheet.default.create({\n    container: {\n      flex: 1,\n      backgroundColor: COLORS.background,\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    loadingText: {\n      marginTop: 16,\n      fontSize: 16,\n      color: COLORS.text\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"Index\");\n});","lineCount":142,"map":[[29,2,13,15,"Object"],[29,8,13,15],[29,9,13,15,"defineProperty"],[29,23,13,15],[29,24,13,15,"exports"],[29,31,13,15],[30,4,13,15,"enumerable"],[30,14,13,15],[31,4,13,15,"get"],[31,7,13,15],[31,18,13,15,"get"],[31,19,13,15],[32,6,13,15],[32,13,13,15,"Index"],[32,18,13,15],[33,4,13,15],[34,2,13,15],[35,2,1,0],[35,6,1,0,"_react"],[35,12,1,0],[35,15,1,0,"require"],[35,22,1,0],[35,23,1,0,"_dependencyMap"],[35,37,1,0],[36,2,1,51],[36,6,1,51,"_reactNativeWebDistExportsView"],[36,36,1,51],[36,39,1,51,"require"],[36,46,1,51],[36,47,1,51,"_dependencyMap"],[36,61,1,51],[37,2,1,51],[37,6,1,51,"View"],[37,10,1,51],[37,13,1,51,"_interopDefault"],[37,28,1,51],[37,29,1,51,"_reactNativeWebDistExportsView"],[37,59,1,51],[38,2,1,51],[38,6,1,51,"_reactNativeWebDistExportsActivityIndicator"],[38,49,1,51],[38,52,1,51,"require"],[38,59,1,51],[38,60,1,51,"_dependencyMap"],[38,74,1,51],[39,2,1,51],[39,6,1,51,"ActivityIndicator"],[39,23,1,51],[39,26,1,51,"_interopDefault"],[39,41,1,51],[39,42,1,51,"_reactNativeWebDistExportsActivityIndicator"],[39,85,1,51],[40,2,1,51],[40,6,1,51,"_reactNativeWebDistExportsStyleSheet"],[40,42,1,51],[40,45,1,51,"require"],[40,52,1,51],[40,53,1,51,"_dependencyMap"],[40,67,1,51],[41,2,1,51],[41,6,1,51,"StyleSheet"],[41,16,1,51],[41,19,1,51,"_interopDefault"],[41,34,1,51],[41,35,1,51,"_reactNativeWebDistExportsStyleSheet"],[41,71,1,51],[42,2,1,51],[42,6,1,51,"_reactNativeWebDistExportsText"],[42,36,1,51],[42,39,1,51,"require"],[42,46,1,51],[42,47,1,51,"_dependencyMap"],[42,61,1,51],[43,2,1,51],[43,6,1,51,"Text"],[43,10,1,51],[43,13,1,51,"_interopDefault"],[43,28,1,51],[43,29,1,51,"_reactNativeWebDistExportsText"],[43,59,1,51],[44,2,3,0],[44,6,3,0,"_expoRouter"],[44,17,3,0],[44,20,3,0,"require"],[44,27,3,0],[44,28,3,0,"_dependencyMap"],[44,42,3,0],[45,2,4,0],[45,6,4,0,"_srcStore"],[45,15,4,0],[45,18,4,0,"require"],[45,25,4,0],[45,26,4,0,"_dependencyMap"],[45,40,4,0],[46,2,5,0],[46,6,5,0,"_srcApi"],[46,13,5,0],[46,16,5,0,"require"],[46,23,5,0],[46,24,5,0,"_dependencyMap"],[46,38,5,0],[47,2,5,0],[47,6,5,0,"api"],[47,9,5,0],[47,12,5,0,"_interopNamespace"],[47,29,5,0],[47,30,5,0,"_srcApi"],[47,37,5,0],[48,2,5,34],[48,6,5,34,"_reactJsxDevRuntime"],[48,25,5,34],[48,28,5,34,"require"],[48,35,5,34],[48,36,5,34,"_dependencyMap"],[48,50,5,34],[49,2,7,0],[49,8,7,6,"COLORS"],[49,14,7,12],[49,17,7,15],[50,4,8,2,"primary"],[50,11,8,9],[50,13,8,11],[50,22,8,20],[51,4,9,2,"background"],[51,14,9,12],[51,16,9,14],[51,25,9,23],[52,4,10,2,"text"],[52,8,10,6],[52,10,10,8],[53,2,11,0],[53,3,11,1],[54,2,13,15],[54,11,13,24,"Index"],[54,16,13,29,"Index"],[54,17,13,29],[54,19,13,32],[55,4,13,32,"_s"],[55,6,13,32],[56,4,14,2],[56,10,14,8,"router"],[56,16,14,14],[56,19,14,17],[56,23,14,17,"useRouter"],[56,34,14,26],[56,35,14,26,"useRouter"],[56,44,14,26],[56,46,14,27],[56,47,14,28],[57,4,15,2],[57,10,15,8],[58,6,15,10,"sessionToken"],[58,18,15,22],[59,6,15,24,"isLoading"],[59,15,15,33],[60,6,15,35,"setUser"],[60,13,15,42],[61,6,15,44,"loadStoredAuth"],[62,4,15,59],[62,5,15,60],[62,8,15,63],[62,12,15,63,"useAuthStore"],[62,21,15,75],[62,22,15,75,"useAuthStore"],[62,34,15,75],[62,36,15,76],[62,37,15,77],[63,4,16,2],[63,10,16,8],[63,11,16,9,"checking"],[63,19,16,17],[63,21,16,19,"setChecking"],[63,32,16,30],[63,33,16,31],[63,36,16,34],[63,40,16,34,"useState"],[63,46,16,42],[63,47,16,42,"useState"],[63,55,16,42],[63,57,16,43],[63,61,16,47],[63,62,16,48],[64,4,18,2],[64,8,18,2,"useEffect"],[64,14,18,11],[64,15,18,11,"useEffect"],[64,24,18,11],[64,26,18,12],[64,32,18,18],[65,6,19,4],[66,6,20,4,"loadStoredAuth"],[66,20,20,18],[66,21,20,19],[66,22,20,20],[67,4,21,2],[67,5,21,3],[67,7,21,5],[67,9,21,7],[67,10,21,8],[68,4,23,2],[68,8,23,2,"useEffect"],[68,14,23,11],[68,15,23,11,"useEffect"],[68,24,23,11],[68,26,23,12],[68,32,23,18],[69,6,24,4],[69,12,24,10,"checkAuth"],[69,21,24,19],[69,24,24,22],[69,30,24,22,"checkAuth"],[69,31,24,22],[69,36,24,34],[70,8,25,6],[71,8,26,6],[71,12,26,10,"isLoading"],[71,21,26,19],[71,23,26,21],[73,8,28,6],[74,8,29,6],[74,14,29,12],[74,18,29,16,"Promise"],[74,25,29,23],[74,26,29,24,"resolve"],[74,33,29,31],[74,37,29,35,"setTimeout"],[74,47,29,45],[74,48,29,46,"resolve"],[74,55,29,53],[74,57,29,55],[74,60,29,58],[74,61,29,59],[74,62,29,60],[75,8,31,6],[75,12,31,10],[75,13,31,11,"sessionToken"],[75,25,31,23],[75,27,31,25],[76,10,32,8,"console"],[76,17,32,15],[76,18,32,16,"log"],[76,21,32,19],[76,22,32,20],[76,62,32,60],[76,63,32,61],[77,10,33,8,"router"],[77,16,33,14],[77,17,33,15,"replace"],[77,24,33,22],[77,25,33,23],[77,40,33,38],[77,41,33,39],[78,10,34,8],[79,8,35,6],[80,8,37,6],[80,12,37,10],[81,10,38,8,"console"],[81,17,38,15],[81,18,38,16,"log"],[81,21,38,19],[81,22,38,20],[81,51,38,49],[81,52,38,50],[82,10,39,8],[82,16,39,14,"response"],[82,24,39,22],[82,27,39,25],[82,33,39,31,"api"],[82,36,39,34],[82,37,39,35,"getMe"],[82,42,39,40],[82,43,39,41],[82,44,39,42],[83,10,40,8,"setUser"],[83,17,40,15],[83,18,40,16,"response"],[83,26,40,24],[83,27,40,25,"data"],[83,31,40,29],[83,32,40,30],[84,10,42,8],[84,14,42,12],[84,15,42,13,"response"],[84,23,42,21],[84,24,42,22,"data"],[84,28,42,26],[84,29,42,27,"is_agent"],[84,37,42,35],[84,39,42,37],[85,12,43,10,"console"],[85,19,43,17],[85,20,43,18,"log"],[85,23,43,21],[85,24,43,22],[85,71,43,69],[85,72,43,70],[86,12,44,10,"router"],[86,18,44,16],[86,19,44,17,"replace"],[86,26,44,24],[86,27,44,25],[86,38,44,36],[86,39,44,37],[87,10,45,8],[87,11,45,9],[87,17,45,15],[88,12,46,10,"console"],[88,19,46,17],[88,20,46,18,"log"],[88,23,46,21],[88,24,46,22],[88,63,46,61],[88,64,46,62],[89,12,47,10,"router"],[89,18,47,16],[89,19,47,17,"replace"],[89,26,47,24],[89,27,47,25],[89,41,47,39],[89,42,47,40],[90,10,48,8],[91,8,49,6],[91,9,49,7],[91,10,49,8],[91,17,49,15,"error"],[91,22,49,20],[91,24,49,22],[92,10,50,8,"console"],[92,17,50,15],[92,18,50,16,"error"],[92,23,50,21],[92,24,50,22],[92,44,50,42],[92,46,50,44,"error"],[92,51,50,49],[92,52,50,50],[93,10,51,8,"router"],[93,16,51,14],[93,17,51,15,"replace"],[93,24,51,22],[93,25,51,23],[93,40,51,38],[93,41,51,39],[94,8,52,6],[94,9,52,7],[94,18,52,16],[95,10,53,8,"setChecking"],[95,21,53,19],[95,22,53,20],[95,27,53,25],[95,28,53,26],[96,8,54,6],[97,6,55,4],[97,7,55,5],[98,6,57,4,"checkAuth"],[98,15,57,13],[98,16,57,14],[98,17,57,15],[99,4,58,2],[99,5,58,3],[99,7,58,5],[99,8,58,6,"isLoading"],[99,17,58,15],[99,18,58,16],[99,19,58,17],[100,4,60,2],[100,24,61,4],[100,28,61,4,"_reactJsxDevRuntime"],[100,47,61,4],[100,48,61,4,"jsxDEV"],[100,54,61,4],[100,56,61,5,"View"],[100,60,61,9],[100,61,61,9,"default"],[100,68,61,9],[101,6,61,10,"style"],[101,11,61,15],[101,13,61,17,"styles"],[101,19,61,23],[101,20,61,24,"container"],[101,29,61,34],[102,6,61,34,"children"],[102,14,61,34],[102,30,62,6],[102,34,62,6,"_reactJsxDevRuntime"],[102,53,62,6],[102,54,62,6,"jsxDEV"],[102,60,62,6],[102,62,62,7,"ActivityIndicator"],[102,79,62,24],[102,80,62,24,"default"],[102,87,62,24],[103,8,62,25,"size"],[103,12,62,29],[103,14,62,30],[103,21,62,37],[104,8,62,38,"color"],[104,13,62,43],[104,15,62,45,"COLORS"],[104,21,62,51],[104,22,62,52,"primary"],[105,6,62,60],[106,8,62,60,"fileName"],[106,16,62,60],[106,18,62,60,"_jsxFileName"],[106,30,62,60],[107,8,62,60,"lineNumber"],[107,18,62,60],[108,8,62,60,"columnNumber"],[108,20,62,60],[109,6,62,60],[109,13,62,62],[109,14,62,63],[109,29,63,6],[109,33,63,6,"_reactJsxDevRuntime"],[109,52,63,6],[109,53,63,6,"jsxDEV"],[109,59,63,6],[109,61,63,7,"Text"],[109,65,63,11],[109,66,63,11,"default"],[109,73,63,11],[110,8,63,12,"style"],[110,13,63,17],[110,15,63,19,"styles"],[110,21,63,25],[110,22,63,26,"loadingText"],[110,33,63,38],[111,8,63,38,"children"],[111,16,63,38],[111,18,63,39],[112,6,63,49],[113,8,63,49,"fileName"],[113,16,63,49],[113,18,63,49,"_jsxFileName"],[113,30,63,49],[114,8,63,49,"lineNumber"],[114,18,63,49],[115,8,63,49,"columnNumber"],[115,20,63,49],[116,6,63,49],[116,13,63,55],[116,14,63,56],[117,4,63,56],[118,6,63,56,"fileName"],[118,14,63,56],[118,16,63,56,"_jsxFileName"],[118,28,63,56],[119,6,63,56,"lineNumber"],[119,16,63,56],[120,6,63,56,"columnNumber"],[120,18,63,56],[121,4,63,56],[121,11,64,10],[121,12,64,11],[122,2,66,0],[123,2,66,1,"_s"],[123,4,66,1],[123,5,13,24,"Index"],[123,10,13,29],[124,4,13,29],[124,12,14,17,"useRouter"],[124,23,14,26],[124,24,14,26,"useRouter"],[124,33,14,26],[124,35,15,63,"useAuthStore"],[124,44,15,75],[124,45,15,75,"useAuthStore"],[124,57,15,75],[125,2,15,75],[126,2,15,75,"_c"],[126,4,15,75],[126,7,13,24,"Index"],[126,12,13,29],[127,2,68,0],[127,8,68,6,"styles"],[127,14,68,12],[127,17,68,15,"StyleSheet"],[127,27,68,25],[127,28,68,25,"default"],[127,35,68,25],[127,36,68,26,"create"],[127,42,68,32],[127,43,68,33],[128,4,69,2,"container"],[128,13,69,11],[128,15,69,13],[129,6,70,4,"flex"],[129,10,70,8],[129,12,70,10],[129,13,70,11],[130,6,71,4,"backgroundColor"],[130,21,71,19],[130,23,71,21,"COLORS"],[130,29,71,27],[130,30,71,28,"background"],[130,40,71,38],[131,6,72,4,"justifyContent"],[131,20,72,18],[131,22,72,20],[131,30,72,28],[132,6,73,4,"alignItems"],[132,16,73,14],[132,18,73,16],[133,4,74,2],[133,5,74,3],[134,4,75,2,"loadingText"],[134,15,75,13],[134,17,75,15],[135,6,76,4,"marginTop"],[135,15,76,13],[135,17,76,15],[135,19,76,17],[136,6,77,4,"fontSize"],[136,14,77,12],[136,16,77,14],[136,18,77,16],[137,6,78,4,"color"],[137,11,78,9],[137,13,78,11,"COLORS"],[137,19,78,17],[137,20,78,18,"text"],[138,4,79,2],[139,2,80,0],[139,3,80,1],[139,4,80,2],[140,2,80,3],[140,6,80,3,"_c"],[140,8,80,3],[141,2,80,3,"$RefreshReg$"],[141,14,80,3],[141,15,80,3,"_c"],[141,17,80,3],[142,0,80,3],[142,3]],"functionMap":{"names":["<global>","Index","useEffect$argument_0","checkAuth","Promise$argument_0"],"mappings":"AAA;eCY;YCK;GDG;YCE;sBCC;wBCK,mCD;KD0B;GDG;CDQ"},"hasCjsExports":false},"type":"js/module"}]}